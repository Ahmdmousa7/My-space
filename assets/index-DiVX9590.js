(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function A1(){if($y)return vl;$y=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return vl.Fragment=e,vl.jsx=n,vl.jsxs=n,vl}var Jy;function S1(){return Jy||(Jy=1,Hd.exports=A1()),Hd.exports}var S=S1(),Gd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function b1(){if(Zy)return Te;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function O(U){return U===null||typeof U!="object"?null:(U=I&&U[I]||U["@@iterator"],typeof U=="function"?U:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,k={};function re(U,J,ne){this.props=U,this.context=J,this.refs=k,this.updater=ne||G}re.prototype.isReactComponent={},re.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},re.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function de(){}de.prototype=re.prototype;function ge(U,J,ne){this.props=U,this.context=J,this.refs=k,this.updater=ne||G}var Re=ge.prototype=new de;Re.constructor=ge,Y(Re,re.prototype),Re.isPureReactComponent=!0;var qe=Array.isArray;function we(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(U,J,ne){var ae=ne.ref;return{$$typeof:r,type:U,key:J,ref:ae!==void 0?ae:null,props:ne}}function V(U,J){return N(U.type,J,U.props)}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function P(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return J[ne]})}var w=/\/+/g;function Ye(U,J){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):J.toString(36)}function mt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(we,we):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,J,ne,ae,_e){var X=typeof U;(X==="undefined"||X==="boolean")&&(U=null);var se=!1;if(U===null)se=!0;else switch(X){case"bigint":case"string":case"number":se=!0;break;case"object":switch(U.$$typeof){case r:case e:se=!0;break;case T:return se=U._init,K(se(U._payload),J,ne,ae,_e)}}if(se)return _e=_e(U),se=ae===""?"."+Ye(U,0):ae,qe(_e)?(ne="",se!=null&&(ne=se.replace(w,"$&/")+"/"),K(_e,J,ne,"",function(tn){return tn})):_e!=null&&(x(_e)&&(_e=V(_e,ne+(_e.key==null||U&&U.key===_e.key?"":(""+_e.key).replace(w,"$&/")+"/")+se)),J.push(_e)),1;se=0;var Pe=ae===""?".":ae+":";if(qe(U))for(var Ke=0;Ke<U.length;Ke++)ae=U[Ke],X=Pe+Ye(ae,Ke),se+=K(ae,J,ne,X,_e);else if(Ke=O(U),typeof Ke=="function")for(U=Ke.call(U),Ke=0;!(ae=U.next()).done;)ae=ae.value,X=Pe+Ye(ae,Ke++),se+=K(ae,J,ne,X,_e);else if(X==="object"){if(typeof U.then=="function")return K(mt(U),J,ne,ae,_e);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return se}function ie(U,J,ne){if(U==null)return U;var ae=[],_e=0;return K(U,ae,"","",function(X){return J.call(ne,X,_e++)}),ae}function he(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},He={map:ie,forEach:function(U,J,ne){ie(U,function(){J.apply(this,arguments)},ne)},count:function(U){var J=0;return ie(U,function(){J++}),J},toArray:function(U){return ie(U,function(J){return J})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Te.Activity=b,Te.Children=He,Te.Component=re,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=ge,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Te.cache=function(U){return function(){return U.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(U,J,ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ae=Y({},U.props),_e=U.key;if(J!=null)for(X in J.key!==void 0&&(_e=""+J.key),J)!R.call(J,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&J.ref===void 0||(ae[X]=J[X]);var X=arguments.length-2;if(X===1)ae.children=ne;else if(1<X){for(var se=Array(X),Pe=0;Pe<X;Pe++)se[Pe]=arguments[Pe+2];ae.children=se}return N(U.type,_e,ae)},Te.createContext=function(U){return U={$$typeof:f,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Te.createElement=function(U,J,ne){var ae,_e={},X=null;if(J!=null)for(ae in J.key!==void 0&&(X=""+J.key),J)R.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=J[ae]);var se=arguments.length-2;if(se===1)_e.children=ne;else if(1<se){for(var Pe=Array(se),Ke=0;Ke<se;Ke++)Pe[Ke]=arguments[Ke+2];_e.children=Pe}if(U&&U.defaultProps)for(ae in se=U.defaultProps,se)_e[ae]===void 0&&(_e[ae]=se[ae]);return N(U,X,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(U){return{$$typeof:g,render:U}},Te.isValidElement=x,Te.lazy=function(U){return{$$typeof:T,_payload:{_status:-1,_result:U},_init:he}},Te.memo=function(U,J){return{$$typeof:_,type:U,compare:J===void 0?null:J}},Te.startTransition=function(U){var J=D.T,ne={};D.T=ne;try{var ae=U(),_e=D.S;_e!==null&&_e(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(we,Le)}catch(X){Le(X)}finally{J!==null&&ne.types!==null&&(J.types=ne.types),D.T=J}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(U){return D.H.use(U)},Te.useActionState=function(U,J,ne){return D.H.useActionState(U,J,ne)},Te.useCallback=function(U,J){return D.H.useCallback(U,J)},Te.useContext=function(U){return D.H.useContext(U)},Te.useDebugValue=function(){},Te.useDeferredValue=function(U,J){return D.H.useDeferredValue(U,J)},Te.useEffect=function(U,J){return D.H.useEffect(U,J)},Te.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(U,J,ne){return D.H.useImperativeHandle(U,J,ne)},Te.useInsertionEffect=function(U,J){return D.H.useInsertionEffect(U,J)},Te.useLayoutEffect=function(U,J){return D.H.useLayoutEffect(U,J)},Te.useMemo=function(U,J){return D.H.useMemo(U,J)},Te.useOptimistic=function(U,J){return D.H.useOptimistic(U,J)},Te.useReducer=function(U,J,ne){return D.H.useReducer(U,J,ne)},Te.useRef=function(U){return D.H.useRef(U)},Te.useState=function(U){return D.H.useState(U)},Te.useSyncExternalStore=function(U,J,ne){return D.H.useSyncExternalStore(U,J,ne)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.4",Te}var Wy;function Bm(){return Wy||(Wy=1,Gd.exports=b1()),Gd.exports}var xe=Bm();const I1=$v(xe);var Fd={exports:{}},Tl={},qd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function R1(){return eE||(eE=1,(function(r){function e(K,ie){var he=K.length;K.push(ie);e:for(;0<he;){var Le=he-1>>>1,He=K[Le];if(0<o(He,ie))K[Le]=ie,K[he]=He,he=Le;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],he=K.pop();if(he!==ie){K[0]=he;e:for(var Le=0,He=K.length,U=He>>>1;Le<U;){var J=2*(Le+1)-1,ne=K[J],ae=J+1,_e=K[ae];if(0>o(ne,he))ae<He&&0>o(_e,ne)?(K[Le]=_e,K[ae]=he,Le=ae):(K[Le]=ne,K[J]=he,Le=J);else if(ae<He&&0>o(_e,he))K[Le]=_e,K[ae]=he,Le=ae;else break e}}return ie}function o(K,ie){var he=K.sortIndex-ie.sortIndex;return he!==0?he:K.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,b=null,I=3,O=!1,G=!1,Y=!1,k=!1,re=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Re(K){for(var ie=n(_);ie!==null;){if(ie.callback===null)s(_);else if(ie.startTime<=K)s(_),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(_)}}function qe(K){if(Y=!1,Re(K),!G)if(n(p)!==null)G=!0,we||(we=!0,P());else{var ie=n(_);ie!==null&&mt(qe,ie.startTime-K)}}var we=!1,D=-1,R=5,N=-1;function V(){return k?!0:!(r.unstable_now()-N<R)}function x(){if(k=!1,we){var K=r.unstable_now();N=K;var ie=!0;try{e:{G=!1,Y&&(Y=!1,de(D),D=-1),O=!0;var he=I;try{t:{for(Re(K),b=n(p);b!==null&&!(b.expirationTime>K&&V());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,I=b.priorityLevel;var He=Le(b.expirationTime<=K);if(K=r.unstable_now(),typeof He=="function"){b.callback=He,Re(K),ie=!0;break t}b===n(p)&&s(p),Re(K)}else s(p);b=n(p)}if(b!==null)ie=!0;else{var U=n(_);U!==null&&mt(qe,U.startTime-K),ie=!1}}break e}finally{b=null,I=he,O=!1}ie=void 0}}finally{ie?P():we=!1}}}var P;if(typeof ge=="function")P=function(){ge(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ye=w.port2;w.port1.onmessage=x,P=function(){Ye.postMessage(null)}}else P=function(){re(x,0)};function mt(K,ie){D=re(function(){K(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(K){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var he=I;I=ie;try{return K()}finally{I=he}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=I;I=K;try{return ie()}finally{I=he}},r.unstable_scheduleCallback=function(K,ie,he){var Le=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Le+he:Le):he=Le,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=he+He,K={id:T++,callback:ie,priorityLevel:K,startTime:he,expirationTime:He,sortIndex:-1},he>Le?(K.sortIndex=he,e(_,K),n(p)===null&&K===n(_)&&(Y?(de(D),D=-1):Y=!0,mt(qe,he-Le))):(K.sortIndex=He,e(p,K),G||O||(G=!0,we||(we=!0,P()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var ie=I;return function(){var he=I;I=ie;try{return K.apply(this,arguments)}finally{I=he}}}})(Yd)),Yd}var tE;function w1(){return tE||(tE=1,qd.exports=R1()),qd.exports}var Kd={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function N1(){if(nE)return $t;nE=1;var r=Bm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},$t.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},$t.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=g(T,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,O=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:I,fetchPriority:O,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},$t.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,_){return p(_)},$t.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var iE;function C1(){if(iE)return Kd.exports;iE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=N1(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function O1(){if(rE)return Tl;rE=1;var r=w1(),e=Bm(),n=C1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,v=h.child;v;){if(v===a){y=!0,a=h,l=d;break}if(v===l){y=!0,l=h,a=d;break}v=v.sibling}if(!y){for(v=d.child;v;){if(v===a){y=!0,a=d,l=h;break}if(v===l){y=!0,l=d,a=h;break}v=v.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case re:return"Profiler";case k:return"StrictMode";case qe:return"Suspense";case we:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ge:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var mt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Le=[],He=-1;function U(t){return{current:t}}function J(t){0>He||(t.current=Le[He],Le[He]=null,He--)}function ne(t,i){He++,Le[He]=t.current,t.current=i}var ae=U(null),_e=U(null),X=U(null),se=U(null);function Pe(t,i){switch(ne(X,i),ne(_e,t),ne(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ey(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ey(i),t=vy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ae),ne(ae,t)}function Ke(){J(ae),J(_e),J(X)}function tn(t){t.memoizedState!==null&&ne(se,t);var i=ae.current,a=vy(i,t.type);i!==a&&(ne(_e,t),ne(ae,a))}function ss(t){_e.current===t&&(J(ae),J(_e)),se.current===t&&(J(se),pl._currentValue=he)}var Js,Zs;function ri(t){if(Js===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+t+Zs}var po=!1;function as(t,i){if(!t||po)return"";po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var H=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){H=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){H=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],v=d[1];if(y&&v){var C=y.split(`
`),B=v.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function _o(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return as(t.type,!1);case 11:return as(t.type.render,!1);case 1:return as(t.type,!0);case 31:return ri("Activity");default:return""}}function yo(t){try{var i="",a=null;do i+=_o(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Gh=r.unstable_shouldYield,nu=r.unstable_requestPaint,nn=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Fh=r.unstable_LowPriority,iu=r.unstable_IdlePriority,ru=r.log,su=r.unstable_setDisableYieldValue,Hn=null,zt=null;function In(t){if(typeof ru=="function"&&su(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var gt=Math.clz32?Math.clz32:ou,au=Math.log,Ws=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(au(t)/Ws|0)|0}var si=256,ls=262144,Tt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?h=ai(l):(y&=v,y!==0?h=ai(y):a||(a=v&~t,a!==0&&(h=ai(a))))):(v=l&~d,v!==0?h=ai(v):y!==0?h=ai(y):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function us(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yh(t,i,a,l,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-gt(a),Z=1<<Q;v[Q]=0,C[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var q=H[Q];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&cs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~i))}function cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function To(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ao(t,i){var a=i&-i;return a=(a&42)!==0?1:hs(a),(a&(t.suspendedLanes|i))!==0?0:a}function hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function Fn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var qn=Math.random().toString(36).slice(2),At="__reactFiber$"+qn,Vt="__reactProps$"+qn,ui="__reactContainer$"+qn,ea="__reactEvents$"+qn,Kh="__reactListeners$"+qn,cu="__reactHandles$"+qn,hu="__reactResources$"+qn,ci="__reactMarker$"+qn;function ta(t){delete t[At],delete t[Vt],delete t[ea],delete t[Kh],delete t[cu]}function hi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=wy(t);t!==null;){if(a=t[At])return a;t=wy(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[At]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[hu];return i||(i=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ci]=!0}var So=new Set,bo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(bo[t]=i,t=0;t<i.length;t++)So.add(i[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},wo={};function fu(t){return vt.call(wo,t)?!0:vt.call(Ro,t)?!1:Io.test(t)?wo[t]=!0:(Ro[t]=!0,!1)}function na(t,i,a){if(fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function No(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=cr(t)?"checked":"value";t._valueTracker=No(t,i,""+t[i])}}function fs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ds=/[\n"\\]/g;function ln(t){return t.replace(ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(t,i,a,l,h,d,y,v){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Co(t,y,Lt(i)):a!=null?Co(t,y,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Lt(v):t.removeAttribute("name")}function du(t,i,a,l,h,d,y,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,v||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function Co(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function mu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function fr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Do(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Oo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Oo(t,d,i[d])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var xo=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,pi=null;function ms(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(s(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&fs(l)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&hr(t,!!a.multiple,i,!1)}}}var aa=!1;function gr(t,i,a){if(aa)return t(i,a);aa=!0;try{var l=t(i);return l}finally{if(aa=!1,(mr!==null||pi!==null)&&(uc(),mr&&(i=mr,t=pi,pi=mr=null,ms(i),t)))for(i=0;i<t.length;i++)ms(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{gs=!1}var _i=null,Mo=null,ps=null;function Uo(){if(ps)return ps;var t,i=Mo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return ps=h.slice(t,1<l?1-l:void 0)}function _s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Qn(){return!1}function Bt(t){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Bt(Li),pr=b({},Li,{view:0,detail:0}),Vo=Bt(pr),_r,oa,Ei,la=b({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(_r=t.screenX-Ei.screenX,oa=t.screenY-Ei.screenY):oa=_r=0,Ei=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Lo=Bt(la),ys=b({},la,{dataTransfer:0}),_u=Bt(ys),yu=b({},pr,{relatedTarget:0}),Es=Bt(yu),Po=b({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Bt(Po),ua=b({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Bt(ua),Tu=b({},Li,{data:0}),vi=Bt(Tu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=bu[t])?!!i[t]:!1}function yr(){return Iu}var rn=b({},pr,{key:function(t){if(t.key){var i=Au[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Bt(rn),wu=b({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Bt(wu),c=b({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),m=Bt(c),E=b({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(E),j=b({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(j),te=b({},Li,{newState:0,oldState:0}),Se=Bt(te),pt=[9,13,27,32],Ge=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var Cn=Nn&&"TextEvent"in window&&!ot,Ti=Nn&&(!Ge||ot&&8<ot&&11>=ot),Xn=" ",$n=!1;function vs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function YS(t,i){switch(t){case"compositionend":return ca(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function KS(t,i){if(ha)return t==="compositionend"||!Ge&&vs(t,i)?(t=Uo(),ps=Mo=_i=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!QS[t.type]:i==="textarea"}function Dg(t,i,a,l){mr?pi?pi.push(l):pi=[l]:mr=l,i=pc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ko=null,jo=null;function XS(t){dy(t,0)}function Nu(t){var i=pn(t);if(fs(i))return t}function xg(t,i){if(t==="change")return i}var Mg=!1;if(Nn){var Qh;if(Nn){var Xh="oninput"in document;if(!Xh){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Xh=typeof Ug.oninput=="function"}Qh=Xh}else Qh=!1;Mg=Qh&&(!document.documentMode||9<document.documentMode)}function Vg(){ko&&(ko.detachEvent("onpropertychange",Lg),jo=ko=null)}function Lg(t){if(t.propertyName==="value"&&Nu(jo)){var i=[];Dg(i,jo,t,wn(t)),gr(XS,i)}}function $S(t,i,a){t==="focusin"?(Vg(),ko=i,jo=a,ko.attachEvent("onpropertychange",Lg)):t==="focusout"&&Vg()}function JS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(jo)}function ZS(t,i){if(t==="click")return Nu(i)}function WS(t,i){if(t==="input"||t==="change")return Nu(i)}function eb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:eb;function zo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,i){var a=Pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function $h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tb=Nn&&"documentMode"in document&&11>=document.documentMode,fa=null,Jh=null,Bo=null,Zh=!1;function Bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||fa==null||fa!==gi(l)||(l=fa,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=pc(Jh,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=fa)))}function Ts(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var da={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Wh={},Hg={};Nn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function As(t){if(Wh[t])return Wh[t];if(!da[t])return t;var i=da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hg)return Wh[t]=i[a];return t}var Gg=As("animationend"),Fg=As("animationiteration"),qg=As("animationstart"),nb=As("transitionrun"),ib=As("transitionstart"),rb=As("transitioncancel"),Yg=As("transitionend"),Kg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Jn(t,i){Kg.set(t,i),di(i,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],ma=0,tf=0;function Ou(){for(var t=ma,i=tf=ma=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Qg(a,h,d)}}function Du(t,i,a,l){On[ma++]=t,On[ma++]=i,On[ma++]=a,On[ma++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,a,l){return Du(t,i,a,l),xu(t)}function Ss(t,i){return Du(t,null,null,i),xu(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function xu(t){if(50<ul)throw ul=0,fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function sb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new sb(t,i,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Mu(t,i,a,l,h,d){var y=0;if(l=t,typeof t=="function")rf(t)&&(y=1);else if(typeof t=="string")y=c1(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=En(31,a,i,h),t.elementType=N,t.lanes=d,t;case Y:return bs(a.children,h,d,i);case k:y=8,h|=24;break;case re:return t=En(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case qe:return t=En(13,a,i,h),t.elementType=qe,t.lanes=d,t;case we:return t=En(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:y=10;break e;case de:y=9;break e;case Re:y=11;break e;case D:y=14;break e;case R:y=16,l=null;break e}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(y,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function bs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function sf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function $g(t){var i=En(18,null,null,0);return i.stateNode=t,i}function af(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Jg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:yo(i)},Jg.set(t,i),i)}return{value:t,source:i,stack:yo(i)}}var pa=[],_a=0,Uu=null,Ho=0,xn=[],Mn=0,Er=null,Ai=1,Si="";function ji(t,i){pa[_a++]=Ho,pa[_a++]=Uu,Uu=t,Ho=i}function Zg(t,i,a){xn[Mn++]=Ai,xn[Mn++]=Si,xn[Mn++]=Er,Er=t;var l=Ai;t=Si;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ai=1<<32-gt(i)+h|a<<h|l,Si=d+t}else Ai=1<<d|a<<h|l,Si=t}function of(t){t.return!==null&&(ji(t,1),Zg(t,1,0))}function lf(t){for(;t===Uu;)Uu=pa[--_a],pa[_a]=null,Ho=pa[--_a],pa[_a]=null;for(;t===Er;)Er=xn[--Mn],xn[Mn]=null,Si=xn[--Mn],xn[Mn]=null,Ai=xn[--Mn],xn[Mn]=null}function Wg(t,i){xn[Mn++]=Ai,xn[Mn++]=Si,xn[Mn++]=Er,Ai=i.id,Si=i.overflow,Er=t}var Ht=null,rt=null,ke=!1,vr=null,Un=!1,uf=Error(s(519));function Tr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Dn(i,t)),uf}function ep(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Vt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Ce(hl[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||_y(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Tr(t,!0)}function tp(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function ya(t){if(t!==Ht)return!1;if(!ke)return tp(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wd(t.type,t.memoizedProps)),a=!a),a&&rt&&Tr(t),tp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Ry(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Ry(t)}else i===27?(i=rt,Vr(t.type)?(t=xd,xd=null,rt=t):rt=i):rt=Ht?Ln(t.stateNode.nextSibling):null;return!0}function Is(){rt=Ht=null,ke=!1}function cf(){var t=vr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),vr=null),t}function Go(t){vr===null?vr=[t]:vr.push(t)}var hf=U(null),Rs=null,zi=null;function Ar(t,i,a){ne(hf,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=hf.current,J(hf)}function ff(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=h;for(var C=0;C<i.length;C++)if(v.context===i[C]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),ff(d.return,a,t),l||(y=null);break e}d=v.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),ff(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ea(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var v=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(v):t=[v])}}else if(h===se.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}h=h.return}t!==null&&df(i,t,a,l),i.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){Rs=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return np(Rs,t)}function Lu(t,i){return Rs===null&&ws(t),np(t,i)}function np(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var ab=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ob=r.unstable_scheduleCallback,lb=r.unstable_NormalPriority,It={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new ab,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&ob(lb,function(){t.controller.abort()})}var qo=null,gf=0,va=0,Ta=null;function ub(t,i){if(qo===null){var a=qo=[];gf=0,va=yd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,i.then(ip,ip),i}function ip(){if(--gf===0&&qo!==null){Ta!==null&&(Ta.status="fulfilled");var t=qo;qo=null,va=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var rp=K.S;K.S=function(t,i){B_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ub(t,i),rp!==null&&rp(t,i)};var Ns=U(null);function pf(){var t=Ns.current;return t!==null?t:nt.pooledCache}function Pu(t,i){i===null?ne(Ns,Ns.current):ne(Ns,i.pool)}function sp(){var t=pf();return t===null?null:{parent:It._currentValue,pool:t}}var Aa=Error(s(460)),_f=Error(s(474)),ku=Error(s(542)),ju={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,up(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,up(t),t}throw Os=i,Aa}}function Cs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Aa):a}}var Os=null;function lp(){if(Os===null)throw Error(s(459));var t=Os;return Os=null,t}function up(t){if(t===Aa||t===ku)throw Error(s(483))}var Sa=null,Yo=0;function zu(t){var i=Yo;return Yo+=1,Sa===null&&(Sa=[]),op(Sa,t,i)}function Ko(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cp(t){function i(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=ki(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function v(L,M,z,$){return M===null||M.tag!==6?(M=sf(z,L.mode,$),M.return=L,M):(M=h(M,z),M.return=L,M)}function C(L,M,z,$){var fe=z.type;return fe===Y?Q(L,M,z.props.children,$,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Cs(fe)===M.type)?(M=h(M,z.props),Ko(M,z),M.return=L,M):(M=Mu(z.type,z.key,z.props,null,L.mode,$),Ko(M,z),M.return=L,M)}function B(L,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=af(z,L.mode,$),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function Q(L,M,z,$,fe){return M===null||M.tag!==7?(M=bs(z,L.mode,$,fe),M.return=L,M):(M=h(M,z),M.return=L,M)}function Z(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return z=Mu(M.type,M.key,M.props,null,L.mode,z),Ko(z,M),z.return=L,z;case G:return M=af(M,L.mode,z),M.return=L,M;case R:return M=Cs(M),Z(L,M,z)}if(mt(M)||P(M))return M=bs(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Z(L,zu(M),z);if(M.$$typeof===ge)return Z(L,Lu(L,M),z);Bu(L,M)}return null}function H(L,M,z,$){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:v(L,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===fe?C(L,M,z,$):null;case G:return z.key===fe?B(L,M,z,$):null;case R:return z=Cs(z),H(L,M,z,$)}if(mt(z)||P(z))return fe!==null?null:Q(L,M,z,$,null);if(typeof z.then=="function")return H(L,M,zu(z),$);if(z.$$typeof===ge)return H(L,M,Lu(L,z),$);Bu(L,z)}return null}function q(L,M,z,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(z)||null,v(M,L,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return L=L.get($.key===null?z:$.key)||null,C(M,L,$,fe);case G:return L=L.get($.key===null?z:$.key)||null,B(M,L,$,fe);case R:return $=Cs($),q(L,M,z,$,fe)}if(mt($)||P($))return L=L.get(z)||null,Q(M,L,$,fe,null);if(typeof $.then=="function")return q(L,M,z,zu($),fe);if($.$$typeof===ge)return q(L,M,z,Lu(M,$),fe);Bu(M,$)}return null}function le(L,M,z,$){for(var fe=null,ze=null,ue=M,Ie=M=0,De=null;ue!==null&&Ie<z.length;Ie++){ue.index>Ie?(De=ue,ue=null):De=ue.sibling;var Be=H(L,ue,z[Ie],$);if(Be===null){ue===null&&(ue=De);break}t&&ue&&Be.alternate===null&&i(L,ue),M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,ue=De}if(Ie===z.length)return a(L,ue),ke&&ji(L,Ie),fe;if(ue===null){for(;Ie<z.length;Ie++)ue=Z(L,z[Ie],$),ue!==null&&(M=d(ue,M,Ie),ze===null?fe=ue:ze.sibling=ue,ze=ue);return ke&&ji(L,Ie),fe}for(ue=l(ue);Ie<z.length;Ie++)De=q(ue,L,Ie,z[Ie],$),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?Ie:De.key),M=d(De,M,Ie),ze===null?fe=De:ze.sibling=De,ze=De);return t&&ue.forEach(function(zr){return i(L,zr)}),ke&&ji(L,Ie),fe}function pe(L,M,z,$){if(z==null)throw Error(s(151));for(var fe=null,ze=null,ue=M,Ie=M=0,De=null,Be=z.next();ue!==null&&!Be.done;Ie++,Be=z.next()){ue.index>Ie?(De=ue,ue=null):De=ue.sibling;var zr=H(L,ue,Be.value,$);if(zr===null){ue===null&&(ue=De);break}t&&ue&&zr.alternate===null&&i(L,ue),M=d(zr,M,Ie),ze===null?fe=zr:ze.sibling=zr,ze=zr,ue=De}if(Be.done)return a(L,ue),ke&&ji(L,Ie),fe;if(ue===null){for(;!Be.done;Ie++,Be=z.next())Be=Z(L,Be.value,$),Be!==null&&(M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return ke&&ji(L,Ie),fe}for(ue=l(ue);!Be.done;Ie++,Be=z.next())Be=q(ue,L,Ie,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&ue.forEach(function(T1){return i(L,T1)}),ke&&ji(L,Ie),fe}function tt(L,M,z,$){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===Y){if(M.tag===7){a(L,M.sibling),$=h(M,z.props.children),$.return=L,L=$;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Cs(fe)===M.type){a(L,M.sibling),$=h(M,z.props),Ko($,z),$.return=L,L=$;break e}a(L,M);break}else i(L,M);M=M.sibling}z.type===Y?($=bs(z.props.children,L.mode,$,z.key),$.return=L,L=$):($=Mu(z.type,z.key,z.props,null,L.mode,$),Ko($,z),$.return=L,L=$)}return y(L);case G:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),$=h(M,z.children||[]),$.return=L,L=$;break e}else{a(L,M);break}else i(L,M);M=M.sibling}$=af(z,L.mode,$),$.return=L,L=$}return y(L);case R:return z=Cs(z),tt(L,M,z,$)}if(mt(z))return le(L,M,z,$);if(P(z)){if(fe=P(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(L,M,z,$)}if(typeof z.then=="function")return tt(L,M,zu(z),$);if(z.$$typeof===ge)return tt(L,M,Lu(L,z),$);Bu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),$=h(M,z),$.return=L,L=$):(a(L,M),$=sf(z,L.mode,$),$.return=L,L=$),y(L)):a(L,M)}return function(L,M,z,$){try{Yo=0;var fe=tt(L,M,z,$);return Sa=null,fe}catch(ue){if(ue===Aa||ue===ku)throw ue;var ze=En(29,ue,null,L.mode);return ze.lanes=$,ze.return=L,ze}finally{}}}var Ds=cp(!0),hp=cp(!1),Sr=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=xu(t),Qg(t,null,a),i}return Du(t,l,i,a),xu(t)}function Qo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function Xo(){if(Tf){var t=Ta;if(t!==null)throw t}}function $o(t,i,a,l){Tf=!1;var h=t.updateQueue;Sr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var C=v,B=C.next;C.next=null,y===null?d=B:y.next=B,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,v=Q.lastBaseUpdate,v!==y&&(v===null?Q.firstBaseUpdate=B:v.next=B,Q.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;y=0,Q=B=C=null,v=d;do{var H=v.lane&-536870913,q=H!==v.lane;if(q?(Oe&H)===H:(l&H)===H){H!==0&&H===va&&(Tf=!0),Q!==null&&(Q=Q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var le=t,pe=v;H=i;var tt=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){Z=le.call(tt,Z,H);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,H=typeof le=="function"?le.call(tt,Z,H):le,H==null)break e;Z=b({},Z,H);break e;case 2:Sr=!0}}H=v.callback,H!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Q===null?(B=Q=q,C=Z):Q=Q.next=q,y|=H;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;q=v,v=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Or|=y,t.lanes=y,t.memoizedState=Z}}function fp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function dp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fp(a[t],i)}var ba=U(null),Hu=U(0);function mp(t,i){t=$i,ne(Hu,t),ne(ba,i),$i=t|i.baseLanes}function Af(){ne(Hu,$i),ne(ba,ba.current)}function Sf(){$i=Hu.current,J(ba),J(Hu)}var vn=U(null),Vn=null;function Rr(t){var i=t.alternate;ne(_t,_t.current&1),ne(vn,t),Vn===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(Vn=t)}function bf(t){ne(_t,_t.current),ne(vn,t),Vn===null&&(Vn=t)}function gp(t){t.tag===22?(ne(_t,_t.current),ne(vn,t),Vn===null&&(Vn=t)):wr()}function wr(){ne(_t,_t.current),ne(vn,vn.current)}function Tn(t){J(vn),Vn===t&&(Vn=null),J(_t)}var _t=U(0);function Gu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Dd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,be=null,We=null,Rt=null,Fu=!1,Ia=!1,xs=!1,qu=0,Jo=0,Ra=null,hb=0;function ft(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Rf(t,i,a,l,h,d){return Hi=d,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Zp:Bf,xs=!1,d=a(l,h),xs=!1,Ia&&(d=_p(i,a,l,h)),pp(t),d}function pp(t){K.H=el;var i=We!==null&&We.next!==null;if(Hi=0,Rt=We=be=null,Fu=!1,Jo=0,Ra=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&Vu(t)&&(wt=!0))}function _p(t,i,a,l){be=t;var h=0;do{if(Ia&&(Ra=null),Jo=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Wp,d=i(a,l)}while(Ia);return d}function fb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(be.flags|=1024),i}function wf(){var t=qu!==0;return qu=0,t}function Nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Cf(t){if(Fu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Fu=!1}Hi=0,Rt=We=be=null,Ia=!1,Jo=qu=0,Ra=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(We===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?be.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?be.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Jo;return Jo+=1,Ra===null&&(Ra=[]),t=op(Ra,t,i),i=be,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Zp:Bf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===ge)return Gt(t)}throw Error(s(438,String(t)))}function Of(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yu(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function Qu(t){var i=yt();return Df(i,We,t)}function Df(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var v=y=null,C=null,B=i,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Oe&Z)===Z:(Hi&Z)===Z){var H=B.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===va&&(Q=!0);else if((Hi&H)===H){B=B.next,H===va&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(v=C=Z,y=d):C=C.next=Z,be.lanes|=H,Or|=H;Z=B.action,xs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(v=C=H,y=d):C=C.next=H,be.lanes|=Z,Or|=Z;B=B.next}while(B!==null&&B!==i);if(C===null?y=d:C.next=v,!yn(d,t.memoizedState)&&(wt=!0,Q&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);yn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function yp(t,i,a){var l=be,h=yt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!yn((We||h).memoizedState,a);if(y&&(h.memoizedState=a,wt=!0),h=h.queue,Vf(Tp.bind(null,l,h,t),[t]),h.getSnapshot!==i||y||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},vp.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Hi&127)!==0||Ep(l,i,a)}return a}function Ep(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=Yu(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function vp(t,i,a,l){i.value=a,i.getSnapshot=l,Ap(i)&&Sp(t)}function Tp(t,i,a){return a(function(){Ap(i)&&Sp(t)})}function Ap(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Sp(t){var i=Ss(t,2);i!==null&&mn(i,t,2)}function Mf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),xs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function bp(t,i,a,l){return t.baseState=a,Df(t,We,typeof l=="function"?l:Gi)}function db(t,i,a,l,h){if(Ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ip(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ip(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,y={};K.T=y;try{var v=a(h,l),C=K.S;C!==null&&C(y,v),Rp(t,i,v)}catch(B){Uf(t,i,B)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(h,l),Rp(t,i,d)}catch(B){Uf(t,i,B)}}function Rp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wp(t,i,l)},function(l){return Uf(t,i,l)}):wp(t,i,a)}function wp(t,i,a){i.status="fulfilled",i.value=a,Np(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ip(t,a)))}function Uf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Np(i),i=i.next;while(i!==l)}t.action=null}function Np(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cp(t,i){return i}function Op(t,i){if(ke){var a=nt.formState;if(a!==null){e:{var l=be;if(ke){if(rt){t:{for(var h=rt,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Ln(h.nextSibling),l=h.data==="F!";break e}}Tr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:i},a.queue=l,a=Xp.bind(null,be,l),l.dispatch=a,l=Mf(!1),d=zf.bind(null,be,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=db.bind(null,be,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Dp(t){var i=yt();return xp(i,We,t)}function xp(t,i,a){if(i=Df(t,i,Cp)[0],t=Qu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(y){throw y===Aa?ku:y}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(be.flags|=2048,wa(9,{destroy:void 0},mb.bind(null,h,a),null)),[l,d,t]}function mb(t,i){t.action=i}function Mp(t){var i=yt(),a=We;if(a!==null)return xp(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=be.updateQueue,i===null&&(i=Yu(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Up(){return yt().memoizedState}function Xu(t,i,a,l){var h=sn();be.flags|=t,h.memoizedState=wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function $u(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&If(l,We.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(be.flags|=t,h.memoizedState=wa(1|i,d,a,l))}function Vp(t,i){Xu(8390656,8,t,i)}function Vf(t,i){$u(2048,8,t,i)}function gb(t){be.flags|=4;var i=be.updateQueue;if(i===null)i=Yu(),be.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Lp(t){var i=yt().memoizedState;return gb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Pp(t,i){return $u(4,2,t,i)}function kp(t,i){return $u(4,4,t,i)}function jp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zp(t,i,a){a=a!=null?a.concat([t]):null,$u(4,4,jp.bind(null,i,t),a)}function Lf(){}function Bp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Hp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Pf(t,i,a){return a===void 0||(Hi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=G_(),be.lanes|=t,Or|=t,a)}function Gp(t,i,a,l){return yn(a,i)?a:ba.current!==null?(t=Pf(t,a,l),yn(t,i)||(wt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=a):(t=G_(),be.lanes|=t,Or|=t,i)}function Fp(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var y=K.T,v={};K.T=v,zf(t,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=cb(C,l);Wo(t,i,Q,bn(t))}else Wo(t,i,l,bn(t))}catch(Z){Wo(t,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{ie.p=d,y!==null&&v.types!==null&&(y.types=v.types),K.T=y}}function pb(){}function kf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=qp(t).queue;Fp(t,h,i,he,a===null?pb:function(){return Yp(t),a(l)})}function qp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yp(t){var i=qp(t);i.next===null&&(i=t.alternate.memoizedState),Wo(t,i.next.queue,{},bn())}function jf(){return Gt(pl)}function Kp(){return yt().memoizedState}function Qp(){return yt().memoizedState}function _b(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=br(a);var l=Ir(i,t,a);l!==null&&(mn(l,i,a),Qo(l,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function yb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?$p(i,a):(a=nf(t,i,a,l),a!==null&&(mn(a,t,l),Jp(a,i,l)))}function Xp(t,i,a){var l=bn();Wo(t,i,a,l)}function Wo(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))$p(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,v=d(y,a);if(h.hasEagerState=!0,h.eagerState=v,yn(v,y))return Du(t,i,h,0),nt===null&&Ou(),!1}catch{}finally{}if(a=nf(t,i,h,l),a!==null)return mn(a,t,l),Jp(a,i,l),!0}return!1}function zf(t,i,a,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(i)throw Error(s(479))}else i=nf(t,a,l,2),i!==null&&mn(i,t,2)}function Ju(t){var i=t.alternate;return t===be||i!==null&&i===be}function $p(t,i){Ia=Fu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jp(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}var el={readContext:Gt,use:Ku,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};el.useEffectEvent=ft;var Zp={readContext:Gt,use:Ku,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Vp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,jp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Xu(4194308,4,t,i)},useInsertionEffect:function(t,i){Xu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(xs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yb.bind(null,be,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=Xp.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=sn();return Pf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=Fp.bind(null,be,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=be,h=sn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Oe&127)!==0||Ep(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Vp(Tp.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,{destroy:void 0},vp.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=nt.identifierPrefix;if(ke){var a=Si,l=Ai;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:Op,useActionState:Op,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return sn().memoizedState=_b.bind(null,be)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:Gt,use:Ku,useCallback:Bp,useContext:Gt,useEffect:Vf,useImperativeHandle:zp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:Hp,useReducer:Qu,useRef:Up,useState:function(){return Qu(Gi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=yt();return Gp(a,We.memoizedState,t,i)},useTransition:function(){var t=Qu(Gi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:jf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,i){var a=yt();return bp(a,We,t,i)},useMemoCache:Of,useCacheRefresh:Qp};Bf.useEffectEvent=Lp;var Wp={readContext:Gt,use:Ku,useCallback:Bp,useContext:Gt,useEffect:Vf,useImperativeHandle:zp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:Hp,useReducer:xf,useRef:Up,useState:function(){return xf(Gi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=yt();return We===null?Pf(a,t,i):Gp(a,We.memoizedState,t,i)},useTransition:function(){var t=xf(Gi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:yp,useId:Kp,useHostTransitionStatus:jf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,i){var a=yt();return We!==null?bp(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Qp};Wp.useEffectEvent=Lp;function Hf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(mn(i,t,l),Qo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(mn(i,t,l),Qo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(mn(i,t,a),Qo(i,t,a))}};function e_(t,i,a,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function t_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function Ms(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function n_(t){Cu(t)}function i_(t){console.error(t)}function r_(t){Cu(t)}function Zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function s_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(t,i)},a}function a_(t){return t=br(t),t.tag=3,t}function o_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){s_(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){s_(i,a,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Eb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ea(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?cc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(t,l,h)),!1}throw Error(s(435,a.tag))}return gd(t,l,h),cc(),!1}if(ke)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(t=Error(s(422),{cause:l}),Go(Dn(t,a)))):(l!==uf&&(i=Error(s(423),{cause:l}),Go(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Ff(t.stateNode,l,h),vf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),ll===null?ll=[d]:ll.push(d),dt!==4&&(dt=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=a_(h),o_(h,t,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),wt=!1;function Ft(t,i,a,l){i.child=t===null?hp(i,null,a,l):Ds(i,t.child,a,l)}function l_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var v in l)v!=="ref"&&(y[v]=l[v])}else y=l;return ws(i),l=Rf(t,i,a,y,d,h),v=wf(),t!==null&&!wt?(Nf(t,i,h),Fi(t,i,h)):(ke&&v&&of(i),i.flags|=1,Ft(t,i,l,h),i.child)}function u_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,c_(t,i,d,l,h)):(t=Mu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Wf(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(y,l)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function c_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(zo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,Wf(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return Yf(t,i,a,l,h)}function h_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return f_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(i,d!==null?d.cachePool:null),d!==null?mp(i,d):Af(),gp(i);else return l=i.lanes=536870912,f_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pu(i,d.cachePool),mp(i,d),wr(),i.memoizedState=null):(t!==null&&Pu(i,null),Af(),wr());return Ft(t,i,h,a),i.child}function tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function f_(t,i,a,l,h){var d=pf();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Pu(i,null),Af(),gp(i),t!==null&&Ea(t,i,l,!0),i.childLanes=h,null}function Wu(t,i){return i=tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function d_(t,i,a){return Ds(i,t.child,null,a),t=Wu(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function vb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Wu(i,l),i.lanes=536870912,tl(null,t);if(bf(i),(t=rt)?(t=Iy(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Tr(i);return i.lanes=536870912,null}return Wu(i,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(bf(i),h)if(i.flags&256)i.flags&=-257,i=d_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Ea(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=nt,l!==null&&(y=Ao(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ss(t,y),mn(l,t,y),qf;cc(),i=d_(t,i,a)}else t=d.treeContext,rt=Ln(y.nextSibling),Ht=i,ke=!0,vr=null,Un=!1,t!==null&&Wg(i,t),i=Wu(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Yf(t,i,a,l,h){return ws(i),a=Rf(t,i,a,l,void 0,h),l=wf(),t!==null&&!wt?(Nf(t,i,h),Fi(t,i,h)):(ke&&l&&of(i),i.flags|=1,Ft(t,i,a,h),i.child)}function m_(t,i,a,l,h,d){return ws(i),i.updateQueue=null,a=_p(i,l,a,h),pp(t),l=wf(),t!==null&&!wt?(Nf(t,i,d),Fi(t,i,d)):(ke&&l&&of(i),i.flags|=1,Ft(t,i,a,d),i.child)}function g_(t,i,a,l,h){if(ws(i),i.stateNode===null){var d=ga,y=a.contextType;typeof y=="object"&&y!==null&&(d=Gt(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Gt(y):ga,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Hf(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Gf.enqueueReplaceState(d,d.state,null),$o(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var v=i.memoizedProps,C=Ms(a,v);d.props=C;var B=d.context,Q=a.contextType;y=ga,typeof Q=="object"&&Q!==null&&(y=Gt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||B!==y)&&t_(i,d,l,y),Sr=!1;var H=i.memoizedState;d.state=H,$o(i,l,d,h),Xo(),B=i.memoizedState,v||H!==B||Sr?(typeof Z=="function"&&(Hf(i,a,Z,l),B=i.memoizedState),(C=Sr||e_(i,a,C,l,H,B,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ef(t,i),y=i.memoizedProps,Q=Ms(a,y),d.props=Q,Z=i.pendingProps,H=d.context,B=a.contextType,C=ga,typeof B=="object"&&B!==null&&(C=Gt(B)),v=a.getDerivedStateFromProps,(B=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Z||H!==C)&&t_(i,d,l,C),Sr=!1,H=i.memoizedState,d.state=H,$o(i,l,d,h),Xo();var q=i.memoizedState;y!==Z||H!==q||Sr||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof v=="function"&&(Hf(i,a,v,l),q=i.memoizedState),(Q=Sr||e_(i,a,Q,l,H,q,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ds(i,t.child,null,h),i.child=Ds(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function p_(t,i,a,l){return Is(),i.flags|=256,Ft(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:sp()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function __(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Rr(i):wr(),(t=rt)?(t=Iy(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw Tr(i);return Dd(t)?i.lanes=32:i.lanes=536870912,null}var v=l.children;return l=l.fallback,h?(wr(),h=i.mode,v=tc({mode:"hidden",children:v},h),l=bs(l,h,a,null),v.return=i,l.return=i,v.sibling=l,i.child=v,l=i.child,l.memoizedState=Qf(a),l.childLanes=Xf(t,y,a),i.memoizedState=Kf,tl(null,l)):(Rr(i),$f(i,v))}var C=t.memoizedState;if(C!==null&&(v=C.dehydrated,v!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(wr(),i.child=t.child,i.flags|=128,i=null):(wr(),v=l.fallback,h=i.mode,l=tc({mode:"visible",children:l.children},h),v=bs(v,h,a,null),v.flags|=2,l.return=i,v.return=i,l.sibling=v,i.child=l,Ds(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Xf(t,y,a),i.memoizedState=Kf,i=tl(null,l));else if(Rr(i),Dd(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,Go({value:l,source:null,stack:null}),i=Jf(t,i,a)}else if(wt||Ea(t,i,a,!1),y=(a&t.childLanes)!==0,wt||y){if(y=nt,y!==null&&(l=Ao(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ss(t,l),mn(y,t,l),qf;Od(v)||cc(),i=Jf(t,i,a)}else Od(v)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,rt=Ln(v.nextSibling),Ht=i,ke=!0,vr=null,Un=!1,t!==null&&Wg(i,t),i=$f(i,l.children),i.flags|=4096);return i}return h?(wr(),v=l.fallback,h=i.mode,C=t.child,B=C.sibling,l=ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?v=ki(B,v):(v=bs(v,h,a,null),v.flags|=2),v.return=i,l.return=i,l.sibling=v,i.child=l,tl(null,l),l=i.child,v=t.child.memoizedState,v===null?v=Qf(a):(h=v.cachePool,h!==null?(C=It._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=sp(),v={baseLanes:v.baseLanes|a,cachePool:h}),l.memoizedState=v,l.childLanes=Xf(t,y,a),i.memoizedState=Kf,tl(t.child,l)):(Rr(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Jf(t,i,a){return Ds(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function y_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ff(t.return,i,a)}function Zf(t,i,a,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function E_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=_t.current,v=(y&2)!==0;if(v?(y=y&1|2,i.flags|=128):y&=1,ne(_t,y),Ft(t,i,l,a),l=ke?Ho:0,!v&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,a,i);else if(t.tag===19)y_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Gu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(i,!0,a,null,d,l);break;case"together":Zf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ea(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function Tb(t,i,a){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),Ar(i,It,t.memoizedState.cache),Is();break;case 27:case 5:tn(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(Rr(i),t=Fi(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ea(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return E_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(_t,_t.current),l)break;return null;case 22:return i.lanes=0,h_(t,i,a,i.pendingProps);case 24:Ar(i,It,t.memoizedState.cache)}return Fi(t,i,a)}function v_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!Wf(t,a)&&(i.flags&128)===0)return wt=!1,Tb(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,ke&&(i.flags&1048576)!==0&&Zg(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Cs(i.elementType),i.type=t,typeof t=="function")rf(t)?(l=Ms(t,l),i.tag=1,i=g_(null,i,t,l,a)):(i.tag=0,i=Yf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=l_(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=u_(null,i,t,l,a);break e}}throw i=Ye(t)||t,Error(s(306,i,""))}}return i;case 0:return Yf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),g_(t,i,l,h,a);case 3:e:{if(Pe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ef(t,i),$o(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Ar(i,It,l),l!==d.cache&&df(i,[It],a,!0),Xo(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=p_(t,i,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),i),Go(h),i=p_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Ln(t.firstChild),Ht=i,ke=!0,vr=null,Un=!0,a=hp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Is(),l===h){i=Fi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return ec(t,i),t===null?(a=Dy(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=_c(X.current).createElement(a),l[At]=i,l[Vt]=t,qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Dy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return tn(i),t===null&&ke&&(l=i.stateNode=Ny(i.type,i.pendingProps,X.current),Ht=i,Un=!0,h=rt,Vr(i.type)?(xd=h,rt=Ln(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=rt)&&(l=Jb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ht=i,rt=Ln(l.firstChild),Un=!1,h=!0):h=!1),h||Tr(i)),tn(i),h=i.type,d=i.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,wd(h,d)?l=null:y!==null&&wd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Rf(t,i,fb,null,null,a),pl._currentValue=h),ec(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=rt)&&(a=Zb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ht=i,rt=null,t=!0):t=!1),t||Tr(i)),null;case 13:return __(t,i,a);case 4:return Pe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ds(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return l_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ws(i),h=Gt(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return u_(t,i,i.type,i.pendingProps,a);case 15:return c_(t,i,i.type,i.pendingProps,a);case 19:return E_(t,i,a);case 31:return vb(t,i,a);case 22:return h_(t,i,a,i.pendingProps);case 24:return ws(i),l=Gt(It),t===null?(h=pf(),h===null&&(h=nt,d=mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),Ar(i,It,h)):((t.lanes&a)!==0&&(Ef(t,i),$o(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,It,l)):(l=d.cache,Ar(i,It,l),l!==h.cache&&df(i,[It],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(t){t.flags|=4}function ed(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(K_())t.flags|=8192;else throw Os=ju,_f}else t.flags&=-16777217}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(i))if(K_())t.flags|=8192;else throw Os=ju,_f}function nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lu():536870912,t.lanes|=i,Da|=i)}function nl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ab(t,i,a){var l=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(It),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ya(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(qi(i),d!==null?(st(i),T_(i,d)):(st(i),ed(i,h,null,l,a))):d?d!==t.memoizedState?(qi(i),st(i),T_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(i),st(i),ed(i,h,t,l,a)),null;case 27:if(ss(i),a=X.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ae.current,ya(i)?ep(i):(t=Ny(h,l,a),i.stateNode=t,qi(i))}return st(i),null;case 5:if(ss(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=ae.current,ya(i))ep(i);else{var y=_c(X.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[At]=i,d[Vt]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(i)}}return st(i),ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=X.current,ya(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_y(t.nodeValue,a)),t||Tr(i,!0)}else t=_c(t).createTextNode(l),t[At]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ya(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ya(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),st(i),null);case 4:return Ke(),t===null&&Ad(i.stateNode.containerInfo),st(i),null;case 10:return Bi(i.type),st(i),null;case 19:if(J(_t),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)nl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Gu(t),d!==null){for(i.flags|=128,nl(l,!1),t=d.updateQueue,i.updateQueue=t,nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xg(a,t),a=a.sibling;return ne(_t,_t.current&1|2),ke&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>oc&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Gu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,nc(i,t),nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return st(i),null}else 2*nn()-l.renderingStartTime>oc&&a!==536870912&&(i.flags|=128,h=!0,nl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=_t.current,ne(_t,h?a&1|2:a&1),ke&&ji(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Tn(i),Sf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(It),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Sb(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(It),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ss(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Is()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Is()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(_t),null;case 4:return Ke(),null;case 10:return Bi(i.type),null;case 22:case 23:return Tn(i),Sf(),t!==null&&J(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function A_(t,i){switch(lf(i),i.tag){case 3:Bi(It),Ke();break;case 26:case 27:case 5:ss(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:J(_t);break;case 10:Bi(i.type);break;case 22:case 23:Tn(i),Sf(),t!==null&&J(Ns);break;case 24:Bi(It)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(v){Je(i,i.return,v)}}function Nr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,h=i;var C=a,B=v;try{B()}catch(Q){Je(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Je(i,i.return,Q)}}function S_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{dp(i,a)}catch(l){Je(t,t.return,l)}}}function b_(t,i,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function I_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function td(t,i,a){try{var l=t.stateNode;qb(l,t.type,a,i),l[Vt]=i}catch(h){Je(t,t.return,h)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vr(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,i,a),t=t.sibling;t!==null;)ic(t,i,a),t=t.sibling}function w_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[At]=t,i[Vt]=a}catch(d){Je(t,t.return,d)}}var Yi=!1,Nt=!1,rd=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function bb(t,i){if(t=t.containerInfo,Id=bc,t=zg(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,v=-1,C=-1,B=0,Q=0,Z=t,H=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(v=y+h),Z!==d||l!==0&&Z.nodeType!==3||(C=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(q=Z.firstChild)!==null;)H=Z,Z=q;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(v=y),H===d&&++Q===l&&(C=y),(q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=q}a=v===-1||C===-1?null:{start:v,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},bc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=Ms(a.type,h);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Je(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function C_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&il(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){Je(a,a.return,y)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Je(a,a.return,y)}}l&64&&S_(a),l&512&&rl(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{dp(t,i)}catch(y){Je(a,a.return,y)}}break;case 27:i===null&&l&4&&w_(a);case 26:case 5:Qi(t,a),i===null&&l&4&&I_(a),l&512&&rl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&x_(t,a);break;case 13:Qi(t,a),l&4&&M_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mb.bind(null,a),Wb(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Nt,h=Yi;var d=Nt;Yi=l,(Nt=i)&&!d?Xi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Yi=h,Nt=d}break;case 30:break;default:Qi(t,a)}}function O_(t){var i=t.alternate;i!==null&&(t.alternate=null,O_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function Ki(t,i,a){for(a=a.child;a!==null;)D_(t,i,a),a=a.sibling}function D_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Nt||bi(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||bi(a,i);var l=lt,h=cn;Vr(a.type)&&(lt=a.stateNode,cn=!1),Ki(t,i,a),dl(a.stateNode),lt=l,cn=h;break;case 5:Nt||bi(a,i);case 6:if(l=lt,h=cn,lt=null,Ki(t,i,a),lt=l,cn=h,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:lt!==null&&(cn?(t=lt,Sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ja(t)):Sy(lt,a.stateNode));break;case 4:l=lt,h=cn,lt=a.stateNode.containerInfo,cn=!0,Ki(t,i,a),lt=l,cn=h;break;case 0:case 11:case 14:case 15:Nr(2,a,i),Nt||Nr(4,a,i),Ki(t,i,a);break;case 1:Nt||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Ki(t,i,a),Nt=l;break;default:Ki(t,i,a)}}function x_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(a){Je(i,i.return,a)}}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(a){Je(i,i.return,a)}}function Ib(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new N_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new N_),i;default:throw Error(s(435,t.tag))}}function rc(t,i){var a=Ib(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ub.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,y=i,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(Vr(v.type)){lt=v.stateNode,cn=!1;break e}break;case 5:lt=v.stateNode,cn=!1;break e;case 3:case 4:lt=v.stateNode.containerInfo,cn=!0;break e}v=v.return}if(lt===null)throw Error(s(160));D_(d,y,h),lt=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)U_(i,t),i=i.sibling}var Zn=null;function U_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Nr(3,t,t.return),il(3,t),Nr(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(Nt||a===null||bi(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(hn(i,t),fn(t),l&512&&(Nt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[At]=t,St(d),l=d;break e;case"link":var y=Uy("link","href",h).get(l+(a.href||""));if(y){for(var v=0;v<y.length;v++)if(d=y[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(v,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(y=Uy("meta","content",h).get(l+(a.content||""))){for(v=0;v<y.length;v++)if(d=y[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(v,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,St(d),l=d}t.stateNode=l}else Vy(h,t.type,t.stateNode);else t.stateNode=My(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Vy(h,t.type,t.stateNode):My(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(Nt||a===null||bi(a,a.return)),a!==null&&l&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(Nt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(le){Je(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Je(t,t.return,le)}}break;case 3:if(vc=null,h=Zn,Zn=yc(i.containerInfo),hn(i,t),Zn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(i.containerInfo)}catch(le){Je(t,t.return,le)}rd&&(rd=!1,V_(t));break;case 4:l=Zn,Zn=yc(t.stateNode.containerInfo),hn(i,t),fn(t),Zn=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Yi,Q=Nt;if(Yi=B||h,Nt=Q||C,hn(i,t),Nt=Q,Yi=B,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Yi||Nt||Us(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(le){Je(C,C.return,le)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Je(C,C.return,le)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?by(q,!0):by(C.stateNode,!1)}catch(le){Je(C,C.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=nd(t);ic(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(un(y,""),a.flags&=-33);var v=nd(t);ic(t,v,y);break;case 3:case 4:var C=a.stateNode.containerInfo,B=nd(t);id(t,B,C);break;default:throw Error(s(161))}}catch(Q){Je(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function V_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;V_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)C_(t,i.alternate,i),i=i.sibling}function Us(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Nr(4,i,i.return),Us(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&b_(i,i.return,a),Us(i);break;case 27:dl(i.stateNode);case 26:case 5:bi(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}t=t.sibling}}function Xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),il(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var v=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fp(C[h],v)}catch(B){Je(l,l.return,B)}}a&&y&64&&S_(d),rl(d,d.return);break;case 27:w_(d);case 26:case 5:Xi(h,d,a),a&&l===null&&y&4&&I_(d),rl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&y&4&&x_(h,d);break;case 13:Xi(h,d,a),a&&y&4&&M_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),rl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L_(t,i,a,l),i=i.sibling}function L_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&il(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,y=d.id,v=d.onPostCommit;typeof v=="function"&&v(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):sl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Na(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sd(y,i);break;case 24:Wn(t,i,a,l),h&2048&&ad(i.alternate,i);break;default:Wn(t,i,a,l)}}function Na(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,y=i,v=a,C=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Na(d,y,v,C,h),il(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Na(d,y,v,C,h):sl(d,y):(Q._visibility|=2,Na(d,y,v,C,h)),h&&B&2048&&sd(y.alternate,y);break;case 24:Na(d,y,v,C,h),h&&B&2048&&ad(y.alternate,y);break;default:Na(d,y,v,C,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&sd(l.alternate,l);break;case 24:sl(a,l),h&2048&&ad(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Ca(t,i,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)P_(t,i,a),t=t.sibling}function P_(t,i,a){switch(t.tag){case 26:Ca(t,i,a),t.flags&al&&t.memoizedState!==null&&h1(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,i,a);break;case 3:case 4:var l=Zn;Zn=yc(t.stateNode.containerInfo),Ca(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=al,al=16777216,Ca(t,i,a),al=l):Ca(t,i,a));break;default:Ca(t,i,a)}}function k_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,z_(l,t)}k_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j_(t),t=t.sibling}function j_(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Nr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sc(t)):ol(t);break;default:ol(t)}}function sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,z_(l,t)}k_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Nr(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}t=t.sibling}}function z_(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(O_(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Rb={getCacheForType:function(t){var i=Gt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(It).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,nt=null,Ne=null,Oe=0,$e=0,An=null,Cr=!1,Oa=!1,od=!1,$i=0,dt=0,Or=0,Vs=0,ld=0,Sn=0,Da=0,ll=null,dn=null,ud=!1,ac=0,B_=0,oc=1/0,lc=null,Dr=null,xt=0,xr=null,xa=null,Ji=0,cd=0,hd=null,H_=null,ul=0,fd=null;function bn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?yd():uu()}function G_(){if(Sn===0)if((Oe&536870912)===0||ke){var t=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),Sn=t}else Sn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Sn}function mn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Mr(t,Oe,Sn,!1)),us(t,a),((Fe&2)===0||t!==nt)&&(t===nt&&((Fe&2)===0&&(Vs|=a),dt===4&&Mr(t,Oe,Sn,!1)),Ii(t))}function F_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),h=l?Ob(t,i):md(t,i,!0),d=l;do{if(h===0){Oa&&!l&&Mr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Nb(a)){h=md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var v=t;h=ll;var C=v.current.memoizedState.isDehydrated;if(C&&(Ma(v,y).flags|=256),y=md(v,y,!1),y!==2){if(od&&!C){v.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Mr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,Sn,!Cr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ac+300-nn(),10<h)){if(Mr(l,i,Sn,!Cr),oi(l,0,!0)!==0)break e;Ji=i,l.timeoutHandle=Ty(q_.bind(null,l,a,dn,lc,ud,i,Sn,Vs,Da,Cr,d,"Throttled",-0,0),h);break e}q_(l,a,dn,lc,ud,i,Sn,Vs,Da,Cr,d,null,-0,0)}}break}while(!0);Ii(t)}function q_(t,i,a,l,h,d,y,v,C,B,Q,Z,H,q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},P_(i,d,Z);var le=(d&62914560)===d?ac-nn():(d&4194048)===d?B_-nn():0;if(le=f1(Z,le),le!==null){Ji=d,t.cancelPendingCommit=le(W_.bind(null,t,i,d,a,l,h,y,v,C,Q,Z,null,H,q)),Mr(t,d,y,!B);return}}W_(t,i,d,a,l,h,y,v,C)}function Nb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(t,i,a,l){i&=~ld,i&=~Vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&cs(t,a,i)}function uc(){return(Fe&6)===0?(cl(0),!1):!0}function dd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,zi=Rs=null,Cf(t),Sa=null,Yo=0,t=Ne;for(;t!==null;)A_(t.alternate,t),t=t.return;Ne=null}}function Ma(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ji=0,dd(),nt=t,Ne=a=ki(t.current,null),Oe=i,$e=0,An=null,Cr=!1,Oa=Gn(t,i),od=!1,Da=Sn=ld=Vs=Or=dt=0,dn=ll=null,ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return $i=i,Ou(),a}function Y_(t,i){be=null,K.H=el,i===Aa||i===ku?(i=lp(),$e=3):i===_f?(i=lp(),$e=4):$e=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(dt=1,Zu(t,Dn(i,t.current)))}function K_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Vn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Vn:!1}function Q_(){var t=K.H;return K.H=el,t===null?el:t}function X_(){var t=K.A;return K.A=Rb,t}function cc(){dt=4,Cr||(Oe&4194048)!==Oe&&vn.current!==null||(Oa=!0),(Or&134217727)===0&&(Vs&134217727)===0||nt===null||Mr(nt,Oe,Sn,!1)}function md(t,i,a){var l=Fe;Fe|=2;var h=Q_(),d=X_();(nt!==t||Oe!==i)&&(lc=null,Ma(t,i)),i=!1;var y=dt;e:do try{if($e!==0&&Ne!==null){var v=Ne,C=An;switch($e){case 8:dd(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var B=$e;if($e=0,An=null,Ua(t,v,C,B),a&&Oa){y=0;break e}break;default:B=$e,$e=0,An=null,Ua(t,v,C,B)}}Cb(),y=dt;break}catch(Q){Y_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,zi=Rs=null,Fe=l,K.H=h,K.A=d,Ne===null&&(nt=null,Oe=0,Ou()),y}function Cb(){for(;Ne!==null;)$_(Ne)}function Ob(t,i){var a=Fe;Fe|=2;var l=Q_(),h=X_();nt!==t||Oe!==i?(lc=null,oc=nn()+500,Ma(t,i)):Oa=Gn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=An;t:switch($e){case 1:$e=0,An=null,Ua(t,i,d,1);break;case 2:case 9:if(ap(d)){$e=0,An=null,J_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ii(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ap(d)?($e=0,An=null,J_(i)):($e=0,An=null,Ua(t,i,d,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var v=Ne;if(y?Ly(y):v.stateNode.complete){$e=0,An=null;var C=v.sibling;if(C!==null)Ne=C;else{var B=v.return;B!==null?(Ne=B,hc(B)):Ne=null}break t}}$e=0,An=null,Ua(t,i,d,5);break;case 6:$e=0,An=null,Ua(t,i,d,6);break;case 8:dd(),dt=6;break e;default:throw Error(s(462))}}Db();break}catch(Q){Y_(t,Q)}while(!0);return zi=Rs=null,K.H=l,K.A=h,Fe=a,Ne!==null?0:(nt=null,Oe=0,Ou(),dt)}function Db(){for(;Ne!==null&&!Gh();)$_(Ne)}function $_(t){var i=v_(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?hc(t):Ne=i}function J_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Cf(i);default:A_(a,i),i=Ne=Xg(i,$i),i=v_(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?hc(t):Ne=i}function Ua(t,i,a,l){zi=Rs=null,Cf(i),Sa=null,Yo=0;var h=i.return;try{if(Eb(t,h,i,a,Oe)){dt=1,Zu(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;dt=1,Zu(t,Dn(a,t.current)),Ne=null;return}i.flags&32768?(ke||l===1?t=!0:Oa||(Oe&536870912)!==0?t=!1:(Cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(i,t)):hc(i)}function hc(t){var i=t;do{if((i.flags&32768)!==0){Z_(i,Cr);return}t=i.return;var a=Ab(i.alternate,i,$i);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);dt===0&&(dt=5)}function Z_(t,i){do{var a=Sb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function W_(t,i,a,l,h,d,y,v,C){t.cancelPendingCommit=null;do fc();while(xt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=tf,Yh(t,a,d,y,v,C),t===nt&&(Ne=nt=null,Oe=0),xa=i,xr=t,Ji=a,cd=d,hd=h,H_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vb(ur,function(){return ry(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,y=Fe,Fe|=4;try{bb(t,i,a)}finally{Fe=y,ie.p=h,K.T=l}}xt=1,ey(),ty(),ny()}}function ey(){if(xt===1){xt=0;var t=xr,i=xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{U_(i,t);var d=Rd,y=zg(t.containerInfo),v=d.focusedElem,C=d.selectionRange;if(y!==v&&v&&v.ownerDocument&&jg(v.ownerDocument.documentElement,v)){if(C!==null&&$h(v)){var B=C.start,Q=C.end;if(Q===void 0&&(Q=B),"selectionStart"in v)v.selectionStart=B,v.selectionEnd=Math.min(Q,v.value.length);else{var Z=v.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var q=H.getSelection(),le=v.textContent.length,pe=Math.min(C.start,le),tt=C.end===void 0?pe:Math.min(C.end,le);!q.extend&&pe>tt&&(y=tt,tt=pe,pe=y);var L=kg(v,pe),M=kg(v,tt);if(L&&M&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),pe>tt?(q.addRange(z),q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),q.addRange(z))}}}}for(Z=[],q=v;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Z.length;v++){var $=Z[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}bc=!!Id,Rd=Id=null}finally{Fe=h,ie.p=l,K.T=a}}t.current=i,xt=2}}function ty(){if(xt===2){xt=0;var t=xr,i=xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{C_(t,i.alternate,i)}finally{Fe=h,ie.p=l,K.T=a}}xt=3}}function ny(){if(xt===4||xt===3){xt=0,nu();var t=xr,i=xa,a=Ji,l=H_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xt=5:(xt=0,xa=xr=null,iy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Dr=null),Ui(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var v=l[y];d(v.value,{componentStack:v.stack})}}finally{K.T=i,ie.p=h}}(Ji&3)!==0&&fc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?ul++:(ul=0,fd=t):ul=0,cl(0)}}function iy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Fo(i)))}function fc(){return ey(),ty(),ny(),ry()}function ry(){if(xt!==5)return!1;var t=xr,i=cd;cd=0;var a=Ui(Ji),l=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=hd,hd=null;var d=xr,y=Ji;if(xt=0,xa=xr=null,Ji=0,(Fe&6)!==0)throw Error(s(331));var v=Fe;if(Fe|=4,j_(d.current),L_(d,d.current,y,a),Fe=v,cl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ie.p=h,K.T=l,iy(t,i)}}function sy(t,i,a){i=Dn(a,i),i=Ff(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(us(t,2),Ii(t))}function Je(t,i,a){if(t.tag===3)sy(t,t,a);else for(;i!==null;){if(i.tag===3){sy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){t=Dn(a,t),a=a_(2),l=Ir(i,a,2),l!==null&&(o_(a,l,i,t),us(l,2),Ii(l));break}}i=i.return}}function gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(od=!0,h.add(a),t=xb.bind(null,t,i,a),i.then(t,t))}function xb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>nn()-ac?(Fe&2)===0&&Ma(t,0):ld|=a,Da===Oe&&(Da=0)),Ii(t)}function ay(t,i){i===0&&(i=lu()),t=Ss(t,i),t!==null&&(us(t,i),Ii(t))}function Mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ay(t,a)}function Ub(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ay(t,a)}function Vb(t,i){return Dt(t,i)}var dc=null,Va=null,pd=!1,mc=!1,_d=!1,Ur=0;function Ii(t){t!==Va&&t.next===null&&(Va===null?dc=Va=t:Va=Va.next=t),mc=!0,pd||(pd=!0,Pb())}function cl(t,i){if(!_d&&mc){_d=!0;do for(var a=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(y&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,cy(l,d))}else d=Oe,d=oi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,cy(l,d));l=l.next}while(a);_d=!1}}function Lb(){oy()}function oy(){mc=pd=!1;var t=0;Ur!==0&&Kb()&&(t=Ur);for(var i=nn(),a=null,l=dc;l!==null;){var h=l.next,d=ly(l,i);d===0?(l.next=null,a===null?dc=h:a.next=h,h===null&&(Va=a)):(a=l,(t!==0||(d&3)!==0)&&(mc=!0)),l=h}xt!==0&&xt!==5||cl(t),Ur!==0&&(Ur=0)}function ly(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-gt(d),v=1<<y,C=h[y];C===-1?((v&a)===0||(v&l)!==0)&&(h[y]=qh(v,i)):C<=i&&(t.expiredLanes|=v),d&=~v}if(i=nt,a=Oe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&lr(l),Ui(a)){case 2:case 8:a=vo;break;case 32:a=ur;break;case 268435456:a=iu;break;default:a=ur}return l=uy.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&lr(l),t.callbackPriority=2,t.callbackNode=null,2}function uy(t,i){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var l=Oe;return l=oi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(F_(t,l,i),ly(t,nn()),t.callbackNode!=null&&t.callbackNode===a?uy.bind(null,t):null)}function cy(t,i){if(fc())return null;F_(t,i,!0)}function Pb(){Xb(function(){(Fe&6)!==0?Dt(Eo,Lb):oy()})}function yd(){if(Ur===0){var t=va;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Ur=t}return Ur}function hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function fy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=hy((h[Vt]||null).action),y=l.submitter;y&&(i=(i=y[Vt]||null)?hy(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var v=new yi("action","action",null,l,h);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ur!==0){var C=y?fy(h,y):new FormData(h);kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(v.preventDefault(),C=y?fy(h,y):new FormData(h),kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var vd=ef[Ed],jb=vd.toLowerCase(),zb=vd[0].toUpperCase()+vd.slice(1);Jn(jb,"on"+zb)}Jn(Gg,"onAnimationEnd"),Jn(Fg,"onAnimationIteration"),Jn(qg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(nb,"onTransitionRun"),Jn(ib,"onTransitionStart"),Jn(rb,"onTransitionCancel"),Jn(Yg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function dy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var v=l[y],C=v.instance,B=v.currentTarget;if(v=v.listener,C!==d&&h.isPropagationStopped())break e;d=v,h.currentTarget=B;try{d(h)}catch(Q){Cu(Q)}h.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(v=l[y],C=v.instance,B=v.currentTarget,v=v.listener,C!==d&&h.isPropagationStopped())break e;d=v,h.currentTarget=B;try{d(h)}catch(Q){Cu(Q)}h.currentTarget=null,d=C}}}}function Ce(t,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var l=t+"__bubble";a.has(l)||(my(i,t,2,!1),a.add(l))}function Td(t,i,a){var l=0;i&&(l|=4),my(a,t,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[gc]){t[gc]=!0,So.forEach(function(a){a!=="selectionchange"&&(Bb.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gc]||(i[gc]=!0,Td("selectionchange",!1,i))}}function my(t,i,a,l){switch(Gy(i)){case 2:var h=g1;break;case 8:h=p1;break;default:h=Pd}a=h.bind(null,i,a,t),h=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var v=l.stateNode.containerInfo;if(v===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;v!==null;){if(y=hi(v),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}v=v.parentNode}}l=l.return}gr(function(){var B=d,Q=wn(a),Z=[];e:{var H=Kg.get(t);if(H!==void 0){var q=yi,le=t;switch(t){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":q=Ru;break;case"focusin":le="focus",q=Es;break;case"focusout":le="blur",q=Es;break;case"beforeblur":case"afterblur":q=Es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Gg:case Fg:case qg:q=Eu;break;case Yg:q=A;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=F;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=Se}var pe=(i&4)!==0,tt=!pe&&(t==="scroll"||t==="scrollend"),L=pe?H!==null?H+"Capture":null:H;pe=[];for(var M=B,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||L===null||($=Kn(M,L),$!=null&&pe.push(fl(M,$,z))),tt)break;M=M.return}0<pe.length&&(H=new q(H,le,null,a,Q),Z.push({event:H,listeners:pe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",H&&a!==xo&&(le=a.relatedTarget||a.fromElement)&&(hi(le)||le[ui]))break e;if((q||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,q?(le=a.relatedTarget||a.toElement,q=B,le=le?hi(le):null,le!==null&&(tt=u(le),pe=le.tag,le!==tt||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=B),q!==le)){if(pe=Lo,$="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Pi,$="onPointerLeave",L="onPointerEnter",M="pointer"),tt=q==null?H:pn(q),z=le==null?H:pn(le),H=new pe($,M+"leave",q,a,Q),H.target=tt,H.relatedTarget=z,$=null,hi(Q)===B&&(pe=new pe(L,M+"enter",le,a,Q),pe.target=z,pe.relatedTarget=tt,$=pe),tt=$,q&&le)t:{for(pe=Hb,L=q,M=le,z=0,$=L;$;$=pe($))z++;$=0;for(var fe=M;fe;fe=pe(fe))$++;for(;0<z-$;)L=pe(L),z--;for(;0<$-z;)M=pe(M),$--;for(;z--;){if(L===M||M!==null&&L===M.alternate){pe=L;break t}L=pe(L),M=pe(M)}pe=null}else pe=null;q!==null&&gy(Z,H,q,pe,!1),le!==null&&tt!==null&&gy(Z,tt,le,pe,!0)}}e:{if(H=B?pn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ze=xg;else if(Og(H))if(Mg)ze=WS;else{ze=JS;var ue=$S}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ra(B.elementType)&&(ze=xg):ze=ZS;if(ze&&(ze=ze(t,B))){Dg(Z,ze,a,Q);break e}ue&&ue(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Co(H,"number",H.value)}switch(ue=B?pn(B):window,t){case"focusin":(Og(ue)||ue.contentEditable==="true")&&(fa=ue,Jh=B,Bo=null);break;case"focusout":Bo=Jh=fa=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Bg(Z,a,Q);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Bg(Z,a,Q)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ha?vs(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Ti&&a.locale!=="ko"&&(ha||De!=="onCompositionStart"?De==="onCompositionEnd"&&ha&&(Ie=Uo()):(_i=Q,Mo="value"in _i?_i.value:_i.textContent,ha=!0)),ue=pc(B,De),0<ue.length&&(De=new vi(De,t,null,a,Q),Z.push({event:De,listeners:ue}),Ie?De.data=Ie:(Ie=ca(a),Ie!==null&&(De.data=Ie)))),(Ie=Cn?YS(t,a):KS(t,a))&&(De=pc(B,"onBeforeInput"),0<De.length&&(ue=new vi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ue,listeners:De}),ue.data=Ie)),kb(Z,t,B,a,Q)}dy(Z,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&l.unshift(fl(t,h,d)),h=Kn(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Hb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gy(t,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var v=a,C=v.alternate,B=v.stateNode;if(v=v.tag,C!==null&&C===l)break;v!==5&&v!==26&&v!==27||B===null||(C=B,h?(B=Kn(a,d),B!=null&&y.unshift(fl(a,B,C))):h||(B=Kn(a,d),B!=null&&y.push(fl(a,B,C)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var Gb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function py(t){return(typeof t=="string"?t:""+t).replace(Gb,`
`).replace(Fb,"")}function _y(t,i){return i=py(i),py(t)===i}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Do(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),na(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,na(t,a,l))}}function bd(t,i,a,l,h,d){switch(a){case"style":Do(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):na(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,y,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Ce("invalid",t);var v=d=y=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":v=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:et(t,i,l,Q,a,null)}}du(t,d,v,C,B,y,h,!1);return;case"select":Ce("invalid",t),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":d=v;break;case"defaultValue":y=v;break;case"multiple":l=v;default:et(t,i,h,v,a,null)}i=d,a=y,t.multiple=!!l,i!=null?hr(t,!!l,i,!1):a!=null&&hr(t,!!l,a,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(v=a[y],v!=null))switch(y){case"value":l=v;break;case"defaultValue":h=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:et(t,i,y,v,a,null)}fr(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,C,l,a,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Ce(hl[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,B,l,a,null)}return;default:if(ra(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&bd(t,i,Q,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&et(t,i,v,l,a,null))}function qb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,v=null,C=null,B=null,Q=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||et(t,i,q,null,l,Z)}}for(var H in l){var q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(q!=null||Z!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&et(t,i,H,q,l,Z)}}ia(t,y,v,C,B,Q,d,h);return;case"select":q=y=v=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||et(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":v=d;break;case"multiple":y=d;default:d!==C&&et(t,i,h,d,l,C)}i=v,a=y,l=q,H!=null?hr(t,!!a,H,!1):!!l!=!!a&&(i!=null?hr(t,!!a,i,!0):hr(t,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:et(t,i,v,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,y,h,l,d)}mu(t,H,q);return;case"option":for(var le in a)if(H=a[le],a.hasOwnProperty(le)&&H!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:et(t,i,le,null,l,H)}for(C in l)if(H=l[C],q=a[C],l.hasOwnProperty(C)&&H!==q&&(H!=null||q!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(t,i,C,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&et(t,i,pe,null,l,H);for(B in l)if(H=l[B],q=a[B],l.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:et(t,i,B,H,l,q)}return;default:if(ra(i)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&bd(t,i,tt,void 0,l,H);for(Q in l)H=l[Q],q=a[Q],!l.hasOwnProperty(Q)||H===q||H===void 0&&q===void 0||bd(t,i,Q,H,l,q);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&et(t,i,L,null,l,H);for(Z in l)H=l[Z],q=a[Z],!l.hasOwnProperty(Z)||H===q||H==null&&q==null||et(t,i,Z,H,l,q)}function yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,v=h.duration;if(d&&v&&yy(y)){for(y=0,v=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>v)break;var Q=C.transferSize,Z=C.initiatorType;Q&&yy(Z)&&(C=C.responseEnd,y+=Q*(C<v?1:(v-B)/(C-B)))}if(--l,i+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Rd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function Ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function Kb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var Ty=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch($b)}:Ty;function $b(t){setTimeout(function(){throw t})}function Vr(t){return t==="head"}function Sy(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,v=d.nodeName;d[ci]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);ja(i)}function by(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Cd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Jb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function Zb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Iy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Wb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var xd=null;function Ry(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function wy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Ny(t,i,a){switch(i=_c(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ta(t)}var Pn=new Map,Cy=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=ie.d;ie.d={f:e1,r:t1,D:n1,C:i1,L:r1,m:s1,X:o1,S:a1,M:l1};function e1(){var t=Zi.f(),i=uc();return t||i}function t1(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?Yp(i):Zi.r(t)}var La=typeof document>"u"?null:document;function Oy(t,i,a){var l=La;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Cy.has(h)||(Cy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),St(i),l.head.appendChild(i)))}}function n1(t){Zi.D(t),Oy("dns-prefetch",t,null)}function i1(t,i){Zi.C(t,i),Oy("preconnect",t,i)}function r1(t,i,a){Zi.L(t,i,a);var l=La;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=Pa(t);break;case"script":d=ka(t)}Pn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),qt(i,"link",t),St(i),l.head.appendChild(i)))}}function s1(t,i){Zi.m(t,i);var a=La;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(t)}if(!Pn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),qt(l,"link",t),St(l),a.head.appendChild(l)}}}function a1(t,i,a){Zi.S(t,i,a);var l=La;if(l&&t){var h=fi(l).hoistableStyles,d=Pa(t);i=i||"default";var y=h.get(d);if(!y){var v={loading:0,preload:null};if(y=l.querySelector(ml(d)))v.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Md(t,a);var C=y=l.createElement("link");St(C),qt(C,"link",t),C._p=new Promise(function(B,Q){C.onload=B,C.onerror=Q}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ec(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:v},h.set(d,y)}}}function o1(t,i){Zi.X(t,i);var a=La;if(a&&t){var l=fi(a).hoistableScripts,h=ka(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0},i),(i=Pn.get(h))&&Ud(t,i),d=a.createElement("script"),St(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function l1(t,i){Zi.M(t,i);var a=La;if(a&&t){var l=fi(a).hoistableScripts,h=ka(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&Ud(t,i),d=a.createElement("script"),St(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Dy(t,i,a,l){var h=(h=X.current)?yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var d=fi(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(ml(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||u1(h,t,a,y.state))),i&&l===null)throw Error(s(528,""));return y}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ka(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Pa(t){return'href="'+ln(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function xy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),St(i),t.head.appendChild(i))}function ka(t){return'[src="'+ln(t)+'"]'}function gl(t){return"script[async]"+t}function My(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),qt(l,"style",h),Ec(l,a.precedence,t),i.instance=l;case"stylesheet":h=Pa(a.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=xy(a),(h=Pn.get(h))&&Md(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var y=d;return y._p=new Promise(function(v,C){y.onload=v,y.onerror=C}),qt(d,"link",l),i.state.loading|=4,Ec(d,a.precedence,t),i.instance=d;case"script":return d=ka(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,St(h),h):(l=a,(h=Pn.get(d))&&(l=b({},a),Ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ec(l,a.precedence,t));return i.instance}function Ec(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var v=l[y];if(v.dataset.precedence===i)d=v;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vc=null;function Uy(t,i,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=t+y;var v=l.get(y);v?v.push(d):l.set(y,[d])}}return l}function Vy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function c1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(l.href),d=i.querySelector(ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Tc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=xy(l),(h=Pn.get(h))&&Md(l,h),d=d.createElement("link"),St(d);var y=d;y._p=new Promise(function(v,C){y.onload=v,y.onerror=C}),qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function f1(t,i){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*Yb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Sc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,i.forEach(d1,t),Ac=null,Tc.call(t))}function d1(t,i){if(!(i.state.loading&4)){var a=Ac.get(t);if(a)var l=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var pl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function m1(t,i,a,l,h,d,y,v,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Py(t,i,a,l,h,d,y,v,C,B,Q,Z){return t=new m1(t,i,a,y,C,B,Q,Z,v),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),t}function ky(t){return t?(t=ga,t):ga}function jy(t,i,a,l,h,d){h=ky(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(mn(a,t,i),Qo(a,t,i))}function zy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){zy(t,i),(t=t.alternate)&&zy(t,i)}function By(t){if(t.tag===13||t.tag===31){var i=Ss(t,67108864);i!==null&&mn(i,t,67108864),Ld(t,67108864)}}function Hy(t){if(t.tag===13||t.tag===31){var i=bn();i=hs(i);var a=Ss(t,i);a!==null&&mn(a,t,i),Ld(t,i)}}var bc=!0;function g1(t,i,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=2,Pd(t,i,a,l)}finally{ie.p=d,K.T=h}}function p1(t,i,a,l){var h=K.T;K.T=null;var d=ie.p;try{ie.p=8,Pd(t,i,a,l)}finally{ie.p=d,K.T=h}}function Pd(t,i,a,l){if(bc){var h=kd(l);if(h===null)Sd(t,i,l,Ic,a),Fy(t,l);else if(y1(h,t,i,a,l))l.stopPropagation();else if(Fy(t,l),i&4&&-1<_1.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ai(d.pendingLanes);if(y!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var C=1<<31-gt(y);v.entanglements[1]|=C,y&=~C}Ii(d),(Fe&6)===0&&(oc=nn()+500,cl(0))}}break;case 31:case 13:v=Ss(d,2),v!==null&&mn(v,d,2),uc(),Ld(d,2)}if(d=kd(l),d===null&&Sd(t,i,l,Ic,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(t,i,l,null,a)}}function kd(t){return t=wn(t),jd(t)}var Ic=null;function jd(t){if(Ic=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ic=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case Eo:return 2;case vo:return 8;case ur:case Fh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var zd=!1,Lr=null,Pr=null,kr=null,_l=new Map,yl=new Map,jr=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(t,i){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function El(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&By(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function y1(t,i,a,l,h){switch(i){case"focusin":return Lr=El(Lr,t,i,a,l,h),!0;case"dragenter":return Pr=El(Pr,t,i,a,l,h),!0;case"mouseover":return kr=El(kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yl.set(d,El(yl.get(d)||null,t,i,a,l,h)),!0}return!1}function qy(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Hy(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Hy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xo=l,a.target.dispatchEvent(l),xo=null}else return i=Rn(a),i!==null&&By(i),t.blockedOn=a,!1;i.shift()}return!0}function Yy(t,i,a){Rc(t)&&a.delete(i)}function E1(){zd=!1,Lr!==null&&Rc(Lr)&&(Lr=null),Pr!==null&&Rc(Pr)&&(Pr=null),kr!==null&&Rc(kr)&&(kr=null),_l.forEach(Yy),yl.forEach(Yy)}function wc(t,i){t.blockedOn===i&&(t.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,E1)))}var Nc=null;function Ky(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ja(t){function i(C){return wc(C,t)}Lr!==null&&wc(Lr,t),Pr!==null&&wc(Pr,t),kr!==null&&wc(kr,t),_l.forEach(i),yl.forEach(i);for(var a=0;a<jr.length;a++){var l=jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)qy(a),a.blockedOn===null&&jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Vt]||null;if(typeof d=="function")y||Ky(a);else if(y){var v=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Vt]||null)v=y.formAction;else if(jd(h)!==null)continue}else v=y.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Ky(a)}}}function Qy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Cc.prototype.render=Bd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();jy(a,l,t,i,null,null)},Cc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;jy(t.current,2,null,t,null,null),uc(),i[ui]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var i=uu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jr.length&&i!==0&&i<jr[a].priority;a++);jr.splice(a,0,t),a===0&&qy(t)}};var Xy=e.version;if(Xy!=="19.2.4")throw Error(s(527,Xy,"19.2.4"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var v1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Hn=Oc.inject(v1),zt=Oc}catch{}}return Tl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=n_,d=i_,y=r_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Py(t,1,!1,null,null,a,l,null,h,d,y,Qy),t[ui]=i.current,Ad(t),new Bd(i)},Tl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=n_,y=i_,v=r_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Py(t,1,!0,i,a??null,l,h,C,d,y,v,Qy),i.context=ky(null),a=i.current,l=bn(),l=hs(l),h=br(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,us(i,a),Ii(i),t[ui]=i.current,Ad(t),new Cc(i)},Tl.version="19.2.4",Tl}var sE;function D1(){if(sE)return Fd.exports;sE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=O1(),Fd.exports}var x1=D1();const M1=$v(x1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=r=>{const e=V1(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=xe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...g},p)=>xe.createElement("svg",{ref:p,...L1,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Jv("lucide",o),...!u&&!P1(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,T])=>xe.createElement(_,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(r,e)=>{const n=xe.forwardRef(({className:s,...o},u)=>xe.createElement(k1,{ref:u,iconNode:e,className:Jv(`lucide-${U1(aE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=aE(r),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oE=it("activity",j1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],B1=it("arrow-right",z1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],G1=it("arrow-up-down",H1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q1=it("calendar",F1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lE=it("check",Y1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q1=it("circle-check-big",K1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lm=it("external-link",X1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],J1=it("file-spreadsheet",$1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W1=it("file-text",Z1);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tI=it("globe",eI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],iI=it("layout-dashboard",nI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],um=it("link",rI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aI=it("loader-circle",sI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lI=it("menu",oI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cI=it("pencil",uI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hm=it("plus",hI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],dI=it("repeat",fI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gI=it("save",mI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zv=it("search",pI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],yI=it("sheet",_I);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Wv=it("sparkles",EI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TI=it("square-check-big",vI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],SI=it("sticky-note",AI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],II=it("tag",bI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eT=it("trash-2",RI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tT=it("x",wI),NI=({activeTab:r,onChangeTab:e,isOpen:n,setIsOpen:s})=>{const o=[{id:"dashboard",icon:iI,label:"Dashboard"},{id:"smart-capture",icon:Wv,label:"Smart Capture"},{id:"tasks",icon:TI,label:"Tasks"},{id:"links",icon:um,label:"Links"},{id:"sheets",icon:J1,label:"Sheets"},{id:"notes",icon:SI,label:"Sticky Notes"}];return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`fixed inset-0 bg-black/20 z-20 lg:hidden transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),S.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-30
        w-64 bg-slate-900 text-slate-300
        transform transition-transform duration-200 ease-in-out
        ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        flex flex-col
      `,children:[S.jsxs("div",{className:"p-6",children:[S.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center flex-shrink-0",children:S.jsx("span",{className:"text-white font-bold text-xs",children:"AM"})}),"Ahmed Mo Space"]}),S.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Your personal workspace."})]}),S.jsx("nav",{className:"flex-1 px-3 space-y-1",children:o.map(u=>{const f=r===u.id;return S.jsxs("button",{onClick:()=>{e(u.id),s(!1)},className:`
                  w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-all
                  ${f?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"hover:bg-slate-800 hover:text-white"}
                `,children:[S.jsx(u.icon,{className:`w-5 h-5 ${f?"text-white":"text-slate-400"}`}),u.label]},u.id)})}),S.jsx("div",{className:"p-4 border-t border-slate-800",children:S.jsxs("div",{className:"flex items-center gap-3 px-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-white",children:"Ahmed Mo"}),S.jsx("p",{className:"text-xs text-slate-500",children:"Workspace Admin"})]})]})})]})]})},uE=({data:r,onChangeTab:e})=>{const n=r.tasks.filter(f=>!f.completed).length,s=r.tasks.filter(f=>!f.completed&&f.priority==="high").length,o=r.links.slice(0,5),u=r.sheets.slice(0,3);return S.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-8",children:[S.jsxs("header",{className:"mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Welcome back!"}),S.jsx("p",{className:"text-slate-500 mt-2",children:"Here is your personal workspace overview."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsxs("div",{onClick:()=>e("tasks"),className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-md transition-shadow group",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Pending Tasks"}),S.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:n})]}),S.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg group-hover:bg-indigo-100 transition-colors",children:S.jsx(Q1,{className:"w-6 h-6 text-indigo-600"})})]}),s>0&&S.jsxs("p",{className:"text-sm text-red-500 mt-4 font-medium",children:[s," High Priority"]})]}),S.jsx("div",{onClick:()=>e("links"),className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-md transition-shadow group",children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Saved Links"}),S.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:r.links.length})]}),S.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:S.jsx(um,{className:"w-6 h-6 text-blue-600"})})]})}),S.jsx("div",{onClick:()=>e("sheets"),className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-md transition-shadow group",children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Active Sheets"}),S.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:r.sheets.length})]}),S.jsx("div",{className:"p-2 bg-green-50 rounded-lg group-hover:bg-green-100 transition-colors",children:S.jsx(oE,{className:"w-6 h-6 text-green-600"})})]})}),S.jsx("div",{onClick:()=>e("notes"),className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 cursor-pointer hover:shadow-md transition-shadow group",children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Sticky Notes"}),S.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:r.notes.length})]}),S.jsx("div",{className:"p-2 bg-yellow-50 rounded-lg group-hover:bg-yellow-100 transition-colors",children:S.jsx(W1,{className:"w-6 h-6 text-yellow-600"})})]})})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[S.jsx(oE,{className:"w-5 h-5 text-green-600"}),"Recent Sheets"]}),S.jsx("div",{className:"space-y-3",children:u.length===0?S.jsx("p",{className:"text-slate-400 text-sm",children:"No sheets added yet."}):u.map(f=>S.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:bg-slate-50 transition-colors group",children:[S.jsx("span",{className:"font-medium text-slate-700 truncate",children:f.title}),S.jsx(lm,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-600"})]},f.id))})]}),S.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[S.jsx(um,{className:"w-5 h-5 text-blue-600"}),"Recent Links"]}),S.jsx("div",{className:"space-y-3",children:o.length===0?S.jsx("p",{className:"text-slate-400 text-sm",children:"No links added yet."}):o.map(f=>S.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border border-slate-100 hover:bg-slate-50 transition-colors group",children:[S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("span",{className:"font-medium text-slate-700 block truncate",children:f.title}),S.jsx("span",{className:"text-xs text-slate-400 block truncate",children:f.url})]}),S.jsx(lm,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-600 flex-shrink-0 ml-2"})]},f.id))})]})]})]})},CI={yellow:"border-l-4 border-yellow-400 bg-yellow-50",blue:"border-l-4 border-blue-400 bg-blue-50",green:"border-l-4 border-green-400 bg-green-50",red:"border-l-4 border-red-400 bg-red-50",purple:"border-l-4 border-purple-400 bg-purple-50",default:"border-l-4 border-transparent bg-white"},OI=({tasks:r,setTasks:e})=>{const[n,s]=xe.useState(""),[o,u]=xe.useState("medium"),[f,g]=xe.useState(""),[p,_]=xe.useState(void 0),[T,b]=xe.useState(void 0),[I,O]=xe.useState(null),[G,Y]=xe.useState(""),[k,re]=xe.useState("medium"),[de,ge]=xe.useState(""),[Re,qe]=xe.useState(void 0),[we,D]=xe.useState(void 0),[R,N]=xe.useState(""),[V,x]=xe.useState("all"),[P,w]=xe.useState("all"),[Ye,mt]=xe.useState("newest"),K=X=>{if(X.preventDefault(),!n.trim())return;const se={id:crypto.randomUUID(),title:n,completed:!1,priority:o,dueDate:f||void 0,recurrence:p,color:T,createdAt:Date.now()};e([se,...r]),s(""),g(""),_(void 0),b(void 0)},ie=(X,se)=>{const Pe=X?new Date(X):new Date;return se==="daily"&&Pe.setDate(Pe.getDate()+1),se==="weekly"&&Pe.setDate(Pe.getDate()+7),se==="monthly"&&Pe.setMonth(Pe.getMonth()+1),Pe.toISOString().split("T")[0]},he=X=>{const se=r.find(tn=>tn.id===X);if(!se)return;const Pe=!se.completed;let Ke=r.map(tn=>tn.id===X?{...tn,completed:Pe}:tn);if(Pe&&se.recurrence){const tn=ie(se.dueDate,se.recurrence);Ke=[{...se,id:crypto.randomUUID(),completed:!1,dueDate:tn,createdAt:Date.now()},...Ke]}e(Ke)},Le=X=>{e(r.filter(se=>se.id!==X))},He=X=>{O(X.id),Y(X.title),re(X.priority),ge(X.dueDate||""),qe(X.recurrence),D(X.color)},U=()=>{O(null)},J=()=>{G.trim()&&(e(r.map(X=>X.id===I?{...X,title:G,priority:k,dueDate:de||void 0,recurrence:Re,color:we}:X)),O(null))},ne=r.filter(X=>{const se=X.title.toLowerCase().includes(R.toLowerCase()),Pe=V==="all"||X.priority===V,Ke=P==="all"||(P==="completed"?X.completed:!X.completed);return se&&Pe&&Ke}),ae=[...ne].sort((X,se)=>{if(Ye==="newest")return se.createdAt-X.createdAt;if(Ye==="oldest")return X.createdAt-se.createdAt;if(Ye==="priority"){const Pe={high:3,medium:2,low:1};return Pe[se.priority]-Pe[X.priority]}return Ye==="dueDate"?X.dueDate?se.dueDate?X.dueDate.localeCompare(se.dueDate):-1:1:0}),_e=["yellow","blue","green","red","purple"];return S.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[S.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:["Tasks",S.jsxs("span",{className:"text-sm font-normal text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:[r.filter(X=>!X.completed).length," Remaining"]})]}),S.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 mb-6 space-y-4 md:space-y-0 md:flex md:items-center md:gap-4 flex-wrap",children:[S.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[S.jsx(Zv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),S.jsx("input",{type:"text",placeholder:"Search tasks...",value:R,onChange:X=>N(X.target.value),className:"w-full bg-slate-50 border-none rounded-lg pl-9 pr-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),S.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 no-scrollbar",children:[S.jsxs("select",{value:P,onChange:X=>w(X.target.value),className:"bg-slate-50 border-none rounded-lg px-3 py-2 text-sm text-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none cursor-pointer",children:[S.jsx("option",{value:"all",children:"All Status"}),S.jsx("option",{value:"pending",children:"Pending"}),S.jsx("option",{value:"completed",children:"Completed"})]}),S.jsxs("select",{value:V,onChange:X=>x(X.target.value),className:"bg-slate-50 border-none rounded-lg px-3 py-2 text-sm text-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none cursor-pointer",children:[S.jsx("option",{value:"all",children:"All Priorities"}),S.jsx("option",{value:"high",children:"High"}),S.jsx("option",{value:"medium",children:"Medium"}),S.jsx("option",{value:"low",children:"Low"})]}),S.jsx("div",{className:"h-6 w-px bg-slate-200 self-center mx-1"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(G1,{className:"w-4 h-4 text-slate-400"}),S.jsxs("select",{value:Ye,onChange:X=>mt(X.target.value),className:"bg-slate-50 border-none rounded-lg px-3 py-2 text-sm text-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none cursor-pointer",children:[S.jsx("option",{value:"newest",children:"Newest"}),S.jsx("option",{value:"oldest",children:"Oldest"}),S.jsx("option",{value:"priority",children:"Priority"}),S.jsx("option",{value:"dueDate",children:"Due Date"})]})]})]})]}),S.jsxs("form",{onSubmit:K,className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 mb-6",children:[S.jsxs("div",{className:"flex gap-3 mb-3",children:[S.jsx("input",{type:"text",value:n,onChange:X=>s(X.target.value),placeholder:"Add a new task...",className:"flex-1 bg-slate-50 border-none rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none"}),S.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white p-2 px-6 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 font-medium",children:[S.jsx(Hm,{className:"w-5 h-5"}),S.jsx("span",{className:"hidden sm:inline",children:"Add"})]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Priority:"}),S.jsxs("select",{value:o,onChange:X=>u(X.target.value),className:"bg-slate-50 border-none rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",children:[S.jsx("option",{value:"low",children:"Low"}),S.jsx("option",{value:"medium",children:"Medium"}),S.jsx("option",{value:"high",children:"High"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Due:"}),S.jsx("input",{type:"date",value:f,onChange:X=>g(X.target.value),className:"bg-slate-50 border-none rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Repeat:"}),S.jsxs("select",{value:p||"",onChange:X=>_(X.target.value?X.target.value:void 0),className:"bg-slate-50 border-none rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",children:[S.jsx("option",{value:"",children:"None"}),S.jsx("option",{value:"daily",children:"Daily"}),S.jsx("option",{value:"weekly",children:"Weekly"}),S.jsx("option",{value:"monthly",children:"Monthly"})]})]}),S.jsxs("div",{className:"flex items-center gap-2 ml-auto md:ml-0",children:[S.jsx("span",{className:"text-slate-500",children:"Color:"}),S.jsxs("div",{className:"flex gap-1.5",children:[_e.map(X=>S.jsx("button",{type:"button",onClick:()=>b(T===X?void 0:X),className:`w-5 h-5 rounded-full border border-slate-200 transition-transform ${T===X?"ring-2 ring-offset-1 ring-indigo-500 scale-110":"hover:scale-110"}`,style:{backgroundColor:`var(--color-${X}-300, ${X==="yellow"?"#fde047":X==="blue"?"#93c5fd":X==="green"?"#86efac":X==="red"?"#fca5a5":"#d8b4fe"})`}},X)),T&&S.jsx("button",{type:"button",onClick:()=>b(void 0),className:"text-xs text-slate-400 hover:text-red-500 ml-1",children:"Clear"})]})]})]})]}),S.jsxs("div",{className:"space-y-3",children:[ae.map(X=>I===X.id?S.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-indigo-100 shadow-sm animate-fade-in",children:[S.jsx("div",{className:"flex gap-3 mb-3",children:S.jsx("input",{type:"text",value:G,onChange:se=>Y(se.target.value),className:"flex-1 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 outline-none",autoFocus:!0})}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Priority:"}),S.jsxs("select",{value:k,onChange:se=>re(se.target.value),className:"bg-slate-50 border border-slate-200 rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",children:[S.jsx("option",{value:"low",children:"Low"}),S.jsx("option",{value:"medium",children:"Medium"}),S.jsx("option",{value:"high",children:"High"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Due:"}),S.jsx("input",{type:"date",value:de,onChange:se=>ge(se.target.value),className:"bg-slate-50 border border-slate-200 rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Repeat:"}),S.jsxs("select",{value:Re||"",onChange:se=>qe(se.target.value?se.target.value:void 0),className:"bg-slate-50 border border-slate-200 rounded-md px-2 py-1 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",children:[S.jsx("option",{value:"",children:"None"}),S.jsx("option",{value:"daily",children:"Daily"}),S.jsx("option",{value:"weekly",children:"Weekly"}),S.jsx("option",{value:"monthly",children:"Monthly"})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500",children:"Color:"}),S.jsx("div",{className:"flex gap-1.5",children:_e.map(se=>S.jsx("button",{type:"button",onClick:()=>D(we===se?void 0:se),className:`w-5 h-5 rounded-full border border-slate-200 transition-transform ${we===se?"ring-2 ring-offset-1 ring-indigo-500 scale-110":"hover:scale-110"}`,style:{backgroundColor:`var(--color-${se}-300, ${se==="yellow"?"#fde047":se==="blue"?"#93c5fd":se==="green"?"#86efac":se==="red"?"#fca5a5":"#d8b4fe"})`}},se))})]}),S.jsxs("div",{className:"ml-auto flex gap-2",children:[S.jsx("button",{onClick:U,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-lg transition-colors",children:S.jsx(tT,{className:"w-5 h-5"})}),S.jsx("button",{onClick:J,className:"p-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg transition-colors",children:S.jsx(gI,{className:"w-5 h-5"})})]})]})]},X.id):S.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all duration-300 ${X.color?CI[X.color]:"bg-white"} ${X.completed?"border-slate-100 opacity-60 bg-slate-50":"border-slate-200 hover:border-indigo-200 hover:shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[S.jsx("button",{onClick:()=>he(X.id),className:`flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${X.completed?"bg-green-500 border-green-500 text-white scale-100":"border-slate-300 text-transparent hover:border-indigo-500 bg-white hover:scale-110"}`,children:S.jsx(lE,{className:`w-4 h-4 transition-transform duration-200 ${X.completed?"scale-100":"scale-0"}`})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:`font-medium truncate transition-all duration-300 ${X.completed?"text-slate-500 line-through decoration-slate-400":"text-slate-800"}`,children:X.title}),S.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-1.5",children:[S.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${X.priority==="high"?"bg-red-100 text-red-700":X.priority==="medium"?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-600"}`,children:X.priority.charAt(0).toUpperCase()+X.priority.slice(1)}),X.dueDate&&S.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1 bg-white/50 px-1.5 py-0.5 rounded-md",children:[S.jsx(q1,{className:"w-3 h-3"}),new Date(X.dueDate).toLocaleDateString()]}),X.recurrence&&S.jsxs("span",{className:"text-xs text-indigo-600 flex items-center gap-1 bg-indigo-50 px-1.5 py-0.5 rounded-md",children:[S.jsx(dI,{className:"w-3 h-3"}),X.recurrence.charAt(0).toUpperCase()+X.recurrence.slice(1)]})]})]})]}),S.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>He(X),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:S.jsx(cI,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>Le(X.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50/80 rounded-lg transition-colors",children:S.jsx(eT,{className:"w-5 h-5"})})]})]},X.id)),r.length>0&&ne.length===0&&S.jsxs("div",{className:"text-center py-12 text-slate-400",children:[S.jsx("p",{children:"No tasks match your filters."}),S.jsx("button",{onClick:()=>{N(""),x("all"),w("all")},className:"text-indigo-500 text-sm hover:underline mt-2",children:"Clear filters"})]}),r.length===0&&S.jsxs("div",{className:"text-center py-12 text-slate-400",children:[S.jsx(lE,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),S.jsx("p",{children:"No tasks yet. Enjoy your free time!"})]})]})]})},cE=({type:r,items:e,setItems:n})=>{const[s,o]=xe.useState(!1),[u,f]=xe.useState(""),[g,p]=xe.useState(""),[_,T]=xe.useState(""),[b,I]=xe.useState(""),O=k=>{k.preventDefault();const re=crypto.randomUUID(),de=r==="links"?{id:re,title:g||u,url:u,category:_||"General",createdAt:Date.now()}:{id:re,title:g||"Untitled Sheet",url:u,lastOpened:Date.now()};n([de,...e]),f(""),p(""),T(""),o(!1)},G=k=>{n(e.filter(re=>re.id!==k))},Y=e.filter(k=>k.title.toLowerCase().includes(b.toLowerCase())||k.url.toLowerCase().includes(b.toLowerCase())||"category"in k&&k.category.toLowerCase().includes(b.toLowerCase()));return S.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[S.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[r==="links"?"Links Library":"Google Sheets",S.jsx("span",{className:"text-sm font-normal text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:e.length})]}),S.jsxs("button",{onClick:()=>o(!s),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[S.jsx(Hm,{className:"w-5 h-5"}),"Add ",r==="links"?"Link":"Sheet"]})]}),s&&S.jsxs("form",{onSubmit:O,className:"bg-white p-6 rounded-xl shadow-lg border border-indigo-100 mb-8 animate-fade-in-down",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"col-span-1 md:col-span-2",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"URL"}),S.jsx("input",{type:"url",required:!0,value:u,onChange:k=>f(k.target.value),placeholder:"https://...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),S.jsx("input",{type:"text",value:g,onChange:k=>p(k.target.value),placeholder:r==="links"?"My Resource":"Project Budget",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),r==="links"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),S.jsx("input",{type:"text",value:_,onChange:k=>T(k.target.value),placeholder:"Work, Personal, Dev...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),S.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[S.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"}),S.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Save"})]})]}),S.jsxs("div",{className:"mb-6 relative",children:[S.jsx(Zv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),S.jsx("input",{type:"text",value:b,onChange:k=>I(k.target.value),placeholder:`Search ${r}...`,className:"w-full bg-white border border-slate-200 rounded-xl pl-10 pr-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(k=>S.jsxs("div",{className:"group bg-white rounded-xl border border-slate-200 p-4 hover:shadow-md transition-shadow relative",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsx("div",{className:`p-2 rounded-lg ${r==="links"?"bg-blue-50 text-blue-600":"bg-green-50 text-green-600"}`,children:r==="links"?S.jsx(tI,{className:"w-5 h-5"}):S.jsx(yI,{className:"w-5 h-5"})}),S.jsx("div",{className:"flex gap-2",children:S.jsx("button",{onClick:()=>G(k.id),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-md transition-colors",children:S.jsx(eT,{className:"w-4 h-4"})})})]}),S.jsx("h3",{className:"font-semibold text-slate-800 mb-1 truncate pr-2",children:k.title}),S.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 mb-3 block truncate hover:text-indigo-600",children:k.url}),S.jsxs("div",{className:"flex items-center justify-between mt-4",children:["category"in k&&S.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-slate-500 bg-slate-100 px-2 py-1 rounded-md",children:[S.jsx(II,{className:"w-3 h-3"}),k.category]}),r==="sheets"&&S.jsx("span",{className:"text-xs text-slate-400",children:"Google Sheet"}),S.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"ml-auto flex items-center gap-1 text-sm font-medium text-indigo-600 hover:text-indigo-700",children:["Open ",S.jsx(lm,{className:"w-3 h-3"})]})]})]},k.id))}),Y.length===0&&S.jsx("div",{className:"text-center py-12 text-slate-400",children:S.jsx("p",{children:"No items found."})})]})},DI={yellow:"bg-yellow-100 border-yellow-200 text-yellow-900",blue:"bg-blue-100 border-blue-200 text-blue-900",green:"bg-green-100 border-green-200 text-green-900",red:"bg-red-100 border-red-200 text-red-900",purple:"bg-purple-100 border-purple-200 text-purple-900"},xI=({notes:r,setNotes:e})=>{const n=()=>{const f={id:crypto.randomUUID(),content:"",color:"yellow",x:0,y:0,createdAt:Date.now()};e([f,...r])},s=(f,g)=>{e(r.map(p=>p.id===f?{...p,content:g}:p))},o=f=>{e(r.filter(g=>g.id!==f))},u=(f,g)=>{e(r.map(p=>p.id===f?{...p,color:g}:p))};return S.jsxs("div",{className:"p-6 h-full min-h-[calc(100vh-2rem)]",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 max-w-7xl mx-auto",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Sticky Board"}),S.jsxs("button",{onClick:n,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 shadow-sm",children:[S.jsx(Hm,{className:"w-5 h-5"}),"New Note"]})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:r.map(f=>S.jsxs("div",{className:`group relative p-5 rounded-xl shadow-md border transition-transform hover:-translate-y-1 ${DI[f.color]} h-64 flex flex-col`,children:[S.jsx("div",{className:"flex justify-between items-start mb-3 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx("div",{className:"flex gap-1",children:["yellow","blue","green","red","purple"].map(g=>S.jsx("button",{onClick:()=>u(f.id,g),className:`w-4 h-4 rounded-full border border-black/10 ${g===f.color?"ring-2 ring-black/20":""}`,style:{backgroundColor:g==="yellow"?"#fef3c7":g==="blue"?"#dbeafe":g==="green"?"#d1fae5":g==="red"?"#fee2e2":"#e9d5ff"}},g))})}),S.jsx("textarea",{value:f.content,onChange:g=>s(f.id,g.target.value),placeholder:"Type your note here...",className:"w-full h-full bg-transparent border-none resize-none outline-none text-base leading-relaxed placeholder-black/30 font-medium"}),S.jsx("div",{className:"absolute top-2 right-2 opacity-0 hover:opacity-100 transition-opacity flex gap-2",children:S.jsx("button",{onClick:()=>o(f.id),className:"p-1 bg-white/50 rounded-full hover:bg-white/80",children:S.jsx(tT,{className:"w-4 h-4 text-slate-700"})})})]},f.id))})]})};var MI={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hE;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hE||(hE={}));var fE;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(fE||(fE={}));var dE;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(dE||(dE={}));var mE;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(mE||(mE={}));var gE;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gE||(gE={}));var pE;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(pE||(pE={}));var _E;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_E||(_E={}));var yE;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yE||(yE={}));var EE;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(EE||(EE={}));var vE;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(vE||(vE={}));var TE;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(TE||(TE={}));var AE;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.MINIMAL="MINIMAL"})(AE||(AE={}));var SE;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(SE||(SE={}));var bE;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(bE||(bE={}));var IE;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(IE||(IE={}));var RE;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE",r.IMAGE_RECITATION="IMAGE_RECITATION",r.IMAGE_OTHER="IMAGE_OTHER"})(RE||(RE={}));var wE;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(wE||(wE={}));var NE;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(NE||(NE={}));var CE;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(CE||(CE={}));var OE;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(OE||(OE={}));var DE;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(DE||(DE={}));var xE;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(xE||(xE={}));var ME;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ME||(ME={}));var UE;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(UE||(UE={}));var VE;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VE||(VE={}));var LE;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(LE||(LE={}));var PE;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(PE||(PE={}));var kE;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",r.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(kE||(kE={}));var jE;(function(r){r.COLLECTION="COLLECTION"})(jE||(jE={}));var zE;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(zE||(zE={}));var BE;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BE||(BE={}));var HE;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(HE||(HE={}));var GE;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(GE||(GE={}));var FE;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(FE||(FE={}));var qE;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qE||(qE={}));var YE;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(YE||(YE={}));var KE;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(KE||(KE={}));var QE;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(QE||(QE={}));var XE;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(XE||(XE={}));var $E;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})($E||($E={}));var JE;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(JE||(JE={}));var ZE;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(ZE||(ZE={}));var WE;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING",r.DISTILLATION="DISTILLATION"})(WE||(WE={}));var e0;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(e0||(e0={}));var t0;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(t0||(t0={}));var n0;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED",r.REGISTERED="REGISTERED"})(n0||(n0={}));var i0;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(i0||(i0={}));var r0;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(r0||(r0={}));var s0;(function(r){r.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",r.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",r.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(s0||(s0={}));var a0;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.ACTIVITY_START="ACTIVITY_START",r.ACTIVITY_END="ACTIVITY_END"})(a0||(a0={}));var o0;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(o0||(o0={}));var l0;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(l0||(l0={}));var u0;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(u0||(u0={}));var c0;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(c0||(c0={}));var h0;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(h0||(h0={}));var f0;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(f0||(f0={}));var d0;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(d0||(d0={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var m0;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(m0||(m0={}));function Wc(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function g0(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],s=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(r){return this instanceof ut?(this.v=r,this):new ut(r)}function Cl(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(O){return function(G){return Promise.resolve(G).then(O,b)}}function g(O,G){s[O]&&(o[O]=function(Y){return new Promise(function(k,re){u.push([O,Y,k,re])>1||p(O,Y)})},G&&(o[O]=G(o[O])))}function p(O,G){try{_(s[O](G))}catch(Y){I(u[0][3],Y)}}function _(O){O.value instanceof ut?Promise.resolve(O.value.v).then(T,b):I(u[0][2],O)}function T(O){p("next",O)}function b(O){p("throw",O)}function I(O,G){O(G),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Ka(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof g0=="function"?g0(r):r[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=r[u]&&function(f){return new Promise(function(g,p){f=r[u](f),o(g,p,f.done,f.value)})}}function o(u,f,g,p){Promise.resolve(p).then(function(_){u({value:_,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nT=function(){const{crypto:r}=globalThis;if(r!=null&&r.randomUUID)return nT=r.randomUUID.bind(r),r.randomUUID();const e=new Uint8Array(1),n=r?()=>r.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const UI=()=>nT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cm(r){return typeof r=="object"&&r!==null&&("name"in r&&r.name==="AbortError"||"message"in r&&String(r.message).includes("FetchRequestCanceledException"))}const hm=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null){try{if(Object.prototype.toString.call(r)==="[object Error]"){const e=new Error(r.message,r.cause?{cause:r.cause}:{});return r.stack&&(e.stack=r.stack),r.cause&&!e.cause&&(e.cause=r.cause),r.name&&(e.name=r.name),e}}catch{}try{return new Error(JSON.stringify(r))}catch{}}return new Error(r)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn extends Error{}class on extends zn{constructor(e,n,s,o){super(`${on.makeMessage(e,n,s)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,s,o){if(!e||!o)return new Ah({message:s,cause:hm(n)});const u=n;return e===400?new rT(e,u,s,o):e===401?new sT(e,u,s,o):e===403?new aT(e,u,s,o):e===404?new oT(e,u,s,o):e===409?new lT(e,u,s,o):e===422?new uT(e,u,s,o):e===429?new cT(e,u,s,o):e>=500?new hT(e,u,s,o):new on(e,u,s,o)}}class fm extends on{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ah extends on{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class iT extends Ah{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rT extends on{}class sT extends on{}class aT extends on{}class oT extends on{}class lT extends on{}class uT extends on{}class cT extends on{}class hT extends on{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VI=/^[a-z][a-z0-9+.-]*:/i,LI=r=>VI.test(r);let dm=r=>(dm=Array.isArray,dm(r));const PI=dm;let kI=PI;const p0=kI;function jI(r){if(!r)return!0;for(const e in r)return!1;return!0}function zI(r,e){return Object.prototype.hasOwnProperty.call(r,e)}const BI=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new zn(`${r} must be an integer`);if(e<0)throw new zn(`${r} must be a positive integer`);return e},HI=r=>{try{return JSON.parse(r)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GI=r=>new Promise(e=>setTimeout(e,r));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const za="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qI=()=>{var r,e,n,s,o;const u=FI();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":y0(Deno.build.os),"X-Stainless-Arch":_0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(r=Deno.version)===null||r===void 0?void 0:r.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":y0((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":_0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const f=YI();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function YI(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of r){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:e,version:`${o}.${u}.${f}`}}}return null}const _0=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",y0=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Dc;const KI=()=>Dc??(Dc=qI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fT(...r){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...r)}function XI(r){let e=Symbol.asyncIterator in r?r[Symbol.asyncIterator]():r[Symbol.iterator]();return fT({start(){},async pull(n){const{done:s,value:o}=await e.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function dT(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function $I(r){var e,n;if(r===null||typeof r!="object")return;if(r[Symbol.asyncIterator]){await((n=(e=r[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=r.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JI=({headers:r,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mT=()=>{var r;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((r=e==null?void 0:e.versions)===null||r===void 0?void 0:r.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Qd(r,e,n){return mT(),new File(r,e??"unknown_file",n)}function ZI(r){return(typeof r=="object"&&r!==null&&("name"in r&&r.name&&String(r.name)||"url"in r&&r.url&&String(r.url)||"filename"in r&&r.filename&&String(r.filename)||"path"in r&&r.path&&String(r.path))||"").split(/[\\/]/).pop()||void 0}const WI=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gT=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",eR=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&gT(r),tR=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function";async function nR(r,e,n){if(mT(),r=await r,eR(r))return r instanceof File?r:Qd([await r.arrayBuffer()],r.name);if(tR(r)){const o=await r.blob();return e||(e=new URL(r.url).pathname.split(/[\\/]/).pop()),Qd(await mm(o),e,n)}const s=await mm(r);if(e||(e=ZI(r)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Qd(s,e,n)}async function mm(r){var e,n,s,o,u;let f=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)f.push(r);else if(gT(r))f.push(r instanceof Blob?r:await r.arrayBuffer());else if(WI(r))try{for(var g=!0,p=Ka(r),_;_=await p.next(),e=_.done,!e;g=!0){o=_.value,g=!1;const T=o;f.push(...await mm(T))}}catch(T){n={error:T}}finally{try{!g&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const T=(u=r==null?void 0:r.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof r}${T?`; constructor: ${T}`:""}${iR(r)}`)}return f}function iR(r){return typeof r!="object"||r===null?"":`; props: [${Object.getOwnPropertyNames(r).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT{constructor(e){this._client=e}}pT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(r){return r.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const E0=Object.freeze(Object.create(null)),rR=(r=_T)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],f=n.reduce((T,b,I)=>{var O,G,Y;/[?#]/.test(b)&&(o=!0);const k=s[I];let re=(o?encodeURIComponent:r)(""+k);return I!==s.length&&(k==null||typeof k=="object"&&k.toString===((Y=Object.getPrototypeOf((G=Object.getPrototypeOf((O=k.hasOwnProperty)!==null&&O!==void 0?O:E0))!==null&&G!==void 0?G:E0))===null||Y===void 0?void 0:Y.toString))&&(re=k+"",u.push({start:T.length+b.length,length:re.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),T+b+(I===s.length?"":re)},""),g=f.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let _;for(;(_=p.exec(g))!==null;)u.push({start:_.index,length:_[0].length,error:`Value "${_[0]}" can't be safely passed as a path parameter`});if(u.sort((T,b)=>T.start-b.start),u.length>0){let T=0;const b=u.reduce((I,O)=>{const G=" ".repeat(O.start-T),Y="^".repeat(O.length);return T=O.start+O.length,I+G+Y},"");throw new zn(`Path parameters result in path with invalid segments:
${u.map(I=>I.error).join(`
`)}
${f}
${b}`)}return f}),xc=rR(_T);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yT extends pT{create(e,n){var s;const{api_version:o=this._client.apiVersion}=e,u=Wc(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xc`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(xc`/${o}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(xc`/${o}/interactions/${e}/cancel`,s)}get(e,n={},s){var o;const u=n??{},{api_version:f=this._client.apiVersion}=u,g=Wc(u,["api_version"]);return this._client.get(xc`/${f}/interactions/${e}`,Object.assign(Object.assign({query:g},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}yT._key=Object.freeze(["interactions"]);class ET extends yT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(r){let e=0;for(const o of r)e+=o.length;const n=new Uint8Array(e);let s=0;for(const o of r)n.set(o,s),s+=o.length;return n}let Mc;function Gm(r){let e;return(Mc??(e=new globalThis.TextEncoder,Mc=e.encode.bind(e)))(r)}let Uc;function v0(r){let e;return(Uc??(e=new globalThis.TextDecoder,Uc=e.decode.bind(e)))(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Gm(e):e;this.buffer=sR([this.buffer,n]);const s=[];let o;for(;(o=aR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(v0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,f=v0(this.buffer.subarray(0,u));s.push(f),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Sh.NEWLINE_CHARS=new Set([`
`,"\r"]);Sh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function aR(r,e){for(let o=e??0;o<r.length;o++){if(r[o]===10)return{preceding:o,index:o+1,carriage:!1};if(r[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function oR(r){for(let s=0;s<r.length-1;s++){if(r[s]===10&&r[s+1]===10||r[s]===13&&r[s+1]===13)return s+2;if(r[s]===13&&r[s+1]===10&&s+3<r.length&&r[s+2]===13&&r[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eh={off:0,error:200,warn:300,info:400,debug:500},T0=(r,e,n)=>{if(r){if(zI(eh,r))return r;an(n).warn(`${e} was set to ${JSON.stringify(r)}, expected one of ${JSON.stringify(Object.keys(eh))}`)}};function bl(){}function Vc(r,e,n){return!e||eh[r]>eh[n]?bl:e[r].bind(e)}const lR={error:bl,warn:bl,info:bl,debug:bl};let A0=new WeakMap;function an(r){var e;const n=r.logger,s=(e=r.logLevel)!==null&&e!==void 0?e:"off";if(!n)return lR;const o=A0.get(n);if(o&&o[0]===s)return o[1];const u={error:Vc("error",n,s),warn:Vc("warn",n,s),info:Vc("info",n,s),debug:Vc("debug",n,s)};return A0.set(n,[s,u]),u}const Ls=r=>(r.options&&(r.options=Object.assign({},r.options),delete r.options.headers),r.headers&&(r.headers=Object.fromEntries((r.headers instanceof Headers?[...r.headers]:Object.entries(r.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in r&&(r.retryOfRequestLogID&&(r.retryOf=r.retryOfRequestLogID),delete r.retryOfRequestLogID),r);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let o=!1;const u=s?an(s):console;function f(){return Cl(this,arguments,function*(){var p,_,T,b;if(o)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let I=!1;try{try{for(var O=!0,G=Ka(uR(e,n)),Y;Y=yield ut(G.next()),p=Y.done,!p;O=!0){b=Y.value,O=!1;const k=b;if(!I)if(k.data.startsWith("[DONE]")){I=!0;continue}else try{yield yield ut(JSON.parse(k.data))}catch(re){throw u.error("Could not parse message into JSON:",k.data),u.error("From chunk:",k.raw),re}}}catch(k){_={error:k}}finally{try{!O&&!p&&(T=G.return)&&(yield ut(T.call(G)))}finally{if(_)throw _.error}}I=!0}catch(k){if(cm(k))return yield ut(void 0);throw k}finally{I||n.abort()}})}return new qa(f,n,s)}static fromReadableStream(e,n,s){let o=!1;function u(){return Cl(this,arguments,function*(){var p,_,T,b;const I=new Sh,O=dT(e);try{for(var G=!0,Y=Ka(O),k;k=yield ut(Y.next()),p=k.done,!p;G=!0){b=k.value,G=!1;const re=b;for(const de of I.decode(re))yield yield ut(de)}}catch(re){_={error:re}}finally{try{!G&&!p&&(T=Y.return)&&(yield ut(T.call(Y)))}finally{if(_)throw _.error}}for(const re of I.flush())yield yield ut(re)})}function f(){return Cl(this,arguments,function*(){var p,_,T,b;if(o)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let I=!1;try{try{for(var O=!0,G=Ka(u()),Y;Y=yield ut(G.next()),p=Y.done,!p;O=!0){b=Y.value,O=!1;const k=b;I||k&&(yield yield ut(JSON.parse(k)))}}catch(k){_={error:k}}finally{try{!O&&!p&&(T=G.return)&&(yield ut(T.call(G)))}finally{if(_)throw _.error}}I=!0}catch(k){if(cm(k))return yield ut(void 0);throw k}finally{I||n.abort()}})}return new qa(f,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const f=s.next();e.push(f),n.push(f)}return u.shift()}});return[new qa(()=>o(e),this.controller,this.client),new qa(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return fT({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const f=Gm(JSON.stringify(o)+`
`);s.enqueue(f)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function uR(r,e){return Cl(this,arguments,function*(){var s,o,u,f;if(!r.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zn("Attempted to iterate over a response with no body");const g=new hR,p=new Sh,_=dT(r.body);try{for(var T=!0,b=Ka(cR(_)),I;I=yield ut(b.next()),s=I.done,!s;T=!0){f=I.value,T=!1;const O=f;for(const G of p.decode(O)){const Y=g.decode(G);Y&&(yield yield ut(Y))}}}catch(O){o={error:O}}finally{try{!T&&!s&&(u=b.return)&&(yield ut(u.call(b)))}finally{if(o)throw o.error}}for(const O of p.flush()){const G=g.decode(O);G&&(yield yield ut(G))}})}function cR(r){return Cl(this,arguments,function*(){var n,s,o,u;let f=new Uint8Array;try{for(var g=!0,p=Ka(r),_;_=yield ut(p.next()),n=_.done,!n;g=!0){u=_.value,g=!1;const T=u;if(T==null)continue;const b=T instanceof ArrayBuffer?new Uint8Array(T):typeof T=="string"?Gm(T):T;let I=new Uint8Array(f.length+b.length);I.set(f),I.set(b,f.length),f=I;let O;for(;(O=oR(f))!==-1;)yield yield ut(f.slice(0,O)),f=f.slice(O)}}catch(T){s={error:T}}finally{try{!g&&!n&&(o=p.return)&&(yield ut(o.call(p)))}finally{if(s)throw s.error}}f.length>0&&(yield yield ut(f))})}class hR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,o]=fR(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function fR(r,e){const n=r.indexOf(e);return n!==-1?[r.substring(0,n),e,r.substring(n+e.length)]:[r,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dR(r,e){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=e,f=await(async()=>{var g;if(e.options.stream)return an(r).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,r):qa.fromSSEResponse(n,e.controller,r);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),_=(g=p==null?void 0:p.split(";")[0])===null||g===void 0?void 0:g.trim();return(_==null?void 0:_.includes("application/json"))||(_==null?void 0:_.endsWith("+json"))?await n.json():await n.text()})();return an(r).debug(`[${s}] response parsed`,Ls({retryOfRequestLogID:o,url:n.url,status:n.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fm extends Promise{constructor(e,n,s=dR){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Fm(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vT=Symbol("brand.privateNullableHeaders");function*mR(r){if(!r)return;if(vT in r){const{values:s,nulls:o}=r;yield*s.entries();for(const u of o)yield[u,null];return}let e=!1,n;r instanceof Headers?n=r.entries():p0(r)?n=r:(e=!0,n=Object.entries(r??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=p0(s[1])?s[1]:[s[1]];let f=!1;for(const g of u)g!==void 0&&(e&&!f&&(f=!0,yield[o,null]),yield[o,g])}}const Al=r=>{const e=new Headers,n=new Set;for(const s of r){const o=new Set;for(const[u,f]of mR(s)){const g=u.toLowerCase();o.has(g)||(e.delete(u),o.add(g)),f===null?(e.delete(u),n.add(g)):(e.append(u,f),n.delete(g))}}return{[vT]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xd=r=>{var e,n,s,o,u,f;if(typeof globalThis.process<"u")return(s=(n=(e=MI)===null||e===void 0?void 0:e[r])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,r))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TT;class bh{constructor(e){var n,s,o,u,f,g,p,{baseURL:_=Xd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(n=Xd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:b="v1beta"}=e,I=Wc(e,["baseURL","apiKey","apiVersion"]);const O=Object.assign(Object.assign({apiKey:T,apiVersion:b},I),{baseURL:_||"https://generativelanguage.googleapis.com"});this.baseURL=O.baseURL,this.timeout=(s=O.timeout)!==null&&s!==void 0?s:bh.DEFAULT_TIMEOUT,this.logger=(o=O.logger)!==null&&o!==void 0?o:console;const G="warn";this.logLevel=G,this.logLevel=(f=(u=T0(O.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:T0(Xd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:G,this.fetchOptions=O.fetchOptions,this.maxRetries=(g=O.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(p=O.fetch)!==null&&p!==void 0?p:QI(),this.encoder=JI,this._options=O,this.apiKey=T,this.apiVersion=b,this.clientAdapter=O.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Al([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Al([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Al([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new zn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${za}`}defaultIdempotencyKey(){return`stainless-node-retry-${UI()}`}makeStatusError(e,n,s,o){return on.generate(e,n,s,o)}buildURL(e,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=LI(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return jI(f)||(n=Object.assign(Object.assign({},f),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Fm(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var o,u,f;const g=await e,p=(o=g.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(g);const{req:_,url:T,timeout:b}=await this.buildRequest(g,{retryCount:p-n});await this.prepareRequest(_,{url:T,options:g});const I="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),O=s===void 0?"":`, retryOf: ${s}`,G=Date.now();if(an(this).debug(`[${I}] sending request`,Ls({retryOfRequestLogID:s,method:g.method,url:T,options:g,headers:_.headers})),!((u=g.signal)===null||u===void 0)&&u.aborted)throw new fm;const Y=new AbortController,k=await this.fetchWithTimeout(T,_,b,Y).catch(hm),re=Date.now();if(k instanceof globalThis.Error){const ge=`retrying, ${n} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new fm;const Re=cm(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return an(this).info(`[${I}] connection ${Re?"timed out":"failed"} - ${ge}`),an(this).debug(`[${I}] connection ${Re?"timed out":"failed"} (${ge})`,Ls({retryOfRequestLogID:s,url:T,durationMs:re-G,message:k.message})),this.retryRequest(g,n,s??I);throw an(this).info(`[${I}] connection ${Re?"timed out":"failed"} - error; no more retries left`),an(this).debug(`[${I}] connection ${Re?"timed out":"failed"} (error; no more retries left)`,Ls({retryOfRequestLogID:s,url:T,durationMs:re-G,message:k.message})),Re?new iT:new Ah({cause:k})}const de=`[${I}${O}] ${_.method} ${T} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${re-G}ms`;if(!k.ok){const ge=await this.shouldRetry(k);if(n&&ge){const N=`retrying, ${n} attempts remaining`;return await $I(k.body),an(this).info(`${de} - ${N}`),an(this).debug(`[${I}] response error (${N})`,Ls({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:re-G})),this.retryRequest(g,n,s??I,k.headers)}const Re=ge?"error; no more retries left":"error; not retryable";an(this).info(`${de} - ${Re}`);const qe=await k.text().catch(N=>hm(N).message),we=HI(qe),D=we?void 0:qe;throw an(this).debug(`[${I}] response error (${Re})`,Ls({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,message:D,durationMs:Date.now()-G})),this.makeStatusError(k.status,we,D,k.headers)}return an(this).info(de),an(this).debug(`[${I}] response start`,Ls({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:re-G})),{response:k,options:g,controller:Y,requestLogID:I,retryOfRequestLogID:s,startTime:G}}async fetchWithTimeout(e,n,s,o){const u=n||{},{signal:f,method:g}=u,p=Wc(u,["signal","method"]);f&&f.addEventListener("abort",()=>o.abort());const _=setTimeout(()=>o.abort(),s),T=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},T?{duplex:"half"}:{}),{method:"GET"}),p);g&&(b.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(_)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,o){var u;let f;const g=o==null?void 0:o.get("retry-after-ms");if(g){const _=parseFloat(g);Number.isNaN(_)||(f=_)}const p=o==null?void 0:o.get("retry-after");if(p&&!f){const _=parseFloat(p);Number.isNaN(_)?f=Date.parse(p)-Date.now():f=_*1e3}if(!(f&&0<=f&&f<60*1e3)){const _=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(n,_)}return await GI(f),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const u=n-e,f=Math.min(.5*Math.pow(2,u),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,o,u;const f=Object.assign({},e),{method:g,path:p,query:_,defaultBaseURL:T}=f,b=this.buildURL(p,_,T);"timeout"in f&&BI("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:I,body:O}=this.buildBody({options:f}),G=await this.buildHeaders({options:e,method:g,bodyHeaders:I,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:G},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&O instanceof globalThis.ReadableStream&&{duplex:"half"}),O&&{body:O}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:b,timeout:f.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let g=Al([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),KI()),this._options.defaultHeaders,s,e.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Al([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:XI(e)}:this.encoder({body:e,headers:s})}}bh.DEFAULT_TIMEOUT=6e4;class Xt extends bh{constructor(){super(...arguments),this.interactions=new ET(this)}}TT=Xt;Xt.GeminiNextGenAPIClient=TT;Xt.GeminiNextGenAPIClientError=zn;Xt.APIError=on;Xt.APIConnectionError=Ah;Xt.APIConnectionTimeoutError=iT;Xt.APIUserAbortError=fm;Xt.NotFoundError=oT;Xt.ConflictError=lT;Xt.RateLimitError=cT;Xt.BadRequestError=rT;Xt.AuthenticationError=sT;Xt.InternalServerError=hT;Xt.PermissionDeniedError=aT;Xt.UnprocessableEntityError=uT;Xt.toFile=nR;Xt.Interactions=ET;const gR=async r=>(r.trim()&&console.error("API Key not found. Please set VITE_GEMINI_API_KEY in your .env.local file"),null),pR=({onProcess:r,onChangeTab:e})=>{const[n,s]=xe.useState(""),[o,u]=xe.useState(!1),[f,g]=xe.useState(""),p=async()=>{var _,T,b,I;if(n.trim()){u(!0),g("");try{const O=await gR(n);if(O){const G={};(_=O.tasks)!=null&&_.length&&(G.tasks=O.tasks.map(Y=>({id:crypto.randomUUID(),title:Y.title,completed:!1,priority:Y.priority||"medium",createdAt:Date.now()}))),(T=O.links)!=null&&T.length&&(G.links=O.links.map(Y=>({id:crypto.randomUUID(),title:Y.title||Y.url,url:Y.url,category:Y.category||"Unsorted",createdAt:Date.now()}))),(b=O.sheets)!=null&&b.length&&(G.sheets=O.sheets.map(Y=>({id:crypto.randomUUID(),title:Y.title||"New Sheet",url:Y.url,lastOpened:Date.now()}))),(I=O.notes)!=null&&I.length&&(G.notes=O.notes.map(Y=>({id:crypto.randomUUID(),content:Y.content,color:Y.color||"yellow",x:0,y:0,createdAt:Date.now()}))),r(G),s("")}}catch{g("Failed to process. Please check your API key or try again.")}finally{u(!1)}}};return S.jsxs("div",{className:"max-w-3xl mx-auto p-6 mt-10",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(Wv,{className:"w-8 h-8 text-indigo-600"})}),S.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Smart Capture"}),S.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Paste chaos, get order. Dump your links, tasks, and thoughts here. The AI will sort them into the right tabs for you."})]}),S.jsxs("div",{className:"bg-white p-2 rounded-2xl shadow-lg border border-indigo-100 relative group focus-within:ring-4 focus-within:ring-indigo-50 transition-all",children:[S.jsx("textarea",{value:n,onChange:_=>s(_.target.value),placeholder:"E.g. Meeting tomorrow at 10am, check https://figma.com, buy milk, google sheet: https://docs.google.com/spreadsheets/d/123...",className:"w-full h-40 p-4 rounded-xl border-none outline-none resize-none text-lg text-slate-700 placeholder-slate-300",disabled:o}),S.jsxs("div",{className:"flex justify-between items-center px-4 pb-2",children:[S.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Powered by Gemini 3 Flash"}),S.jsx("button",{onClick:p,disabled:!n.trim()||o,className:`
                flex items-center gap-2 px-6 py-2.5 rounded-xl font-medium transition-all
                ${!n.trim()||o?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md hover:shadow-lg translate-y-0 active:translate-y-0.5"}
            `,children:o?S.jsxs(S.Fragment,{children:[S.jsx(aI,{className:"w-5 h-5 animate-spin"}),"Sorting..."]}):S.jsxs(S.Fragment,{children:["Organize",S.jsx(B1,{className:"w-5 h-5"})]})})]})]}),f&&S.jsx("div",{className:"mt-4 p-4 bg-red-50 text-red-600 rounded-lg text-center animate-pulse",children:f}),!n&&S.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"text-center p-4",children:[S.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 mb-2 text-sm text-slate-600 italic",children:'"Call John at 5, https://docs.google.com/spreadsheets/d/abc for budget, remember to pay rent"'}),S.jsx("p",{className:"text-xs text-slate-400",children:"Splits into Task, Sheet, and Task"})]}),S.jsxs("div",{className:"text-center p-4",children:[S.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 mb-2 text-sm text-slate-600 italic",children:'"Design inspiration: https://dribbble.com, https://awwwards.com"'}),S.jsx("p",{className:"text-xs text-slate-400",children:"Creates multiple Links"})]}),S.jsxs("div",{className:"text-center p-4",children:[S.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 mb-2 text-sm text-slate-600 italic",children:'"Idea for app: a dog walker uber"'}),S.jsx("p",{className:"text-xs text-slate-400",children:"Creates a Sticky Note"})]})]})]})},_R=()=>{};var S0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|g>>4;let I=(g&15)<<2|_>>6,O=_&63;p||(O=64,f||(I=64)),s.push(n[T],n[b],n[I],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(AT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||_==null||b==null)throw new ER;const I=u<<2|g>>4;if(s.push(I),_!==64){const O=g<<4&240|_>>2;if(s.push(O),b!==64){const G=_<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=AT(r);return ST.encodeByteArray(e,!0)},th=function(r){return vR(r).replace(/\./g,"")},bT=function(r){try{return ST.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>TR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof S0>"u")return;const r=S0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bT(r[1]);return e&&JSON.parse(e)},Ih=()=>{try{return _R()||AR()||SR()||bR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IT=r=>{var e,n;return(n=(e=Ih())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},IR=r=>{const e=IT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RT=()=>{var r;return(r=Ih())==null?void 0:r.config},wT=r=>{var e;return(e=Ih())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Ol={};function NR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?r.emulator.push(e):r.prod.push(e);return r}function CR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let b0=!1;function CT(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Ol[r]===e||Ol[r]||b0)return;Ol[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=NR().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,O){I.setAttribute("width","24"),I.setAttribute("id",O),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{b0=!0,f()},I}function T(I,O){I.setAttribute("id",O),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=CR(s),O=n("text"),G=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),k=document.getElementById(Y)||document.createElement("a"),re=n("preprendIcon"),de=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ge=I.element;g(ge),T(k,Y);const Re=_();p(de,re),ge.append(de,G,k,Re),document.body.appendChild(ge)}u?(G.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function DR(){var e;const r=(e=Ih())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zR(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new or(o,g,s)}}function zR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function HR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(I0(u)&&I0(f)){if(!Hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function I0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function GR(r,e){const n=new FR(r,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(r){return r===Ps?void 0:r}function QR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const $R={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},JR=Me.INFO,ZR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},WR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ZR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const ew=(r,e)=>e.some(n=>r instanceof n);let R0,w0;function tw(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nw(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,gm=new WeakMap,DT=new WeakMap,Jd=new WeakMap,Ym=new WeakMap;function iw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,r)}).catch(()=>{}),Ym.set(e,r),e}function rw(r){if(gm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});gm.set(r,e)}let pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sw(r){pm=r(pm)}function aw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Zd(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),Kr(s)}:nw().includes(r)?function(...e){return r.apply(Zd(this),e),Kr(OT.get(this))}:function(...e){return Kr(r.apply(Zd(this),e))}}function ow(r){return typeof r=="function"?aw(r):(r instanceof IDBTransaction&&rw(r),ew(r,tw())?new Proxy(r,pm):r)}function Kr(r){if(r instanceof IDBRequest)return iw(r);if(Jd.has(r))return Jd.get(r);const e=ow(r);return e!==r&&(Jd.set(r,e),Ym.set(e,r)),e}const Zd=r=>Ym.get(r);function lw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Kr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Kr(f.result),p.oldVersion,p.newVersion,Kr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const uw=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],Wd=new Map;function N0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uw.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),o&&p.done]))[0]};return Wd.set(e,u),u}sw(r=>({...r,get:(e,n,s)=>N0(e,n)||r.get(e,n,s),has:(e,n)=>!!N0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",C0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new qm("@firebase/app"),dw="@firebase/app-compat",mw="@firebase/analytics-compat",gw="@firebase/analytics",pw="@firebase/app-check-compat",_w="@firebase/app-check",yw="@firebase/auth",Ew="@firebase/auth-compat",vw="@firebase/database",Tw="@firebase/data-connect",Aw="@firebase/database-compat",Sw="@firebase/functions",bw="@firebase/functions-compat",Iw="@firebase/installations",Rw="@firebase/installations-compat",ww="@firebase/messaging",Nw="@firebase/messaging-compat",Cw="@firebase/performance",Ow="@firebase/performance-compat",Dw="@firebase/remote-config",xw="@firebase/remote-config-compat",Mw="@firebase/storage",Uw="@firebase/storage-compat",Vw="@firebase/firestore",Lw="@firebase/ai",Pw="@firebase/firestore-compat",kw="firebase",jw="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",zw={[_m]:"fire-core",[dw]:"fire-core-compat",[gw]:"fire-analytics",[mw]:"fire-analytics-compat",[_w]:"fire-app-check",[pw]:"fire-app-check-compat",[yw]:"fire-auth",[Ew]:"fire-auth-compat",[vw]:"fire-rtdb",[Tw]:"fire-data-connect",[Aw]:"fire-rtdb-compat",[Sw]:"fire-fn",[bw]:"fire-fn-compat",[Iw]:"fire-iid",[Rw]:"fire-iid-compat",[ww]:"fire-fcm",[Nw]:"fire-fcm-compat",[Cw]:"fire-perf",[Ow]:"fire-perf-compat",[Dw]:"fire-rc",[xw]:"fire-rc-compat",[Mw]:"fire-gcs",[Uw]:"fire-gcs-compat",[Vw]:"fire-fst",[Pw]:"fire-fst-compat",[Lw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,Bw=new Map,Em=new Map;function O0(r,e){try{r.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(Em.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,r);for(const n of nh.values())O0(n,r);for(const n of Bw.values())O0(n,r);return!0}function Km(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Yl("app","Firebase",Hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=jw;function xT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=RT()),!n)throw Qr.create("no-options");const u=nh.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new XR(o);for(const p of Em.values())f.addComponent(p);const g=new Gw(n,s,f);return nh.set(o,g),g}function MT(r=ym){const e=nh.get(r);if(!e&&r===ym&&RT())return xT();if(!e)throw Qr.create("no-app",{appName:r});return e}function Xr(r,e,n){let s=zw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}to(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebase-heartbeat-database",qw=1,Pl="firebase-heartbeat-store";let em=null;function UT(){return em||(em=lw(Fw,qw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),em}async function Yw(r){try{const n=(await UT()).transaction(Pl),s=await n.objectStore(Pl).get(VT(r));return await n.done,s}catch(e){if(e instanceof or)nr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function D0(r,e){try{const s=(await UT()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,VT(r)),await s.done}catch(n){if(n instanceof or)nr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function VT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1024,Qw=30;class Xw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Qw){const f=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x0(),{heartbeatsToSend:s,unsentEntries:o}=$w(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function x0(){return new Date().toISOString().substring(0,10)}function $w(r,e=Kw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),M0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M0(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function Zw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r){to(new Gs("platform-logger",e=>new hw(e),"PRIVATE")),to(new Gs("heartbeat",e=>new Xw(e),"PRIVATE")),Xr(_m,C0,r),Xr(_m,C0,"esm2020"),Xr("fire-js","")}Ww("");var eN="firebase",tN="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(eN,tN,"app");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,LT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function N(){}N.prototype=R.prototype,D.F=R.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,x,P){for(var w=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)w[Ye-2]=arguments[Ye];return R.prototype[x].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,N){N||(N=0);const V=Array(16);if(typeof R=="string")for(var x=0;x<16;++x)V[x]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(x=0;x<16;++x)V[x]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=D.g[0],N=D.g[1],x=D.g[2];let P=D.g[3],w;w=R+(P^N&(x^P))+V[0]+3614090360&4294967295,R=N+(w<<7&4294967295|w>>>25),w=P+(x^R&(N^x))+V[1]+3905402710&4294967295,P=R+(w<<12&4294967295|w>>>20),w=x+(N^P&(R^N))+V[2]+606105819&4294967295,x=P+(w<<17&4294967295|w>>>15),w=N+(R^x&(P^R))+V[3]+3250441966&4294967295,N=x+(w<<22&4294967295|w>>>10),w=R+(P^N&(x^P))+V[4]+4118548399&4294967295,R=N+(w<<7&4294967295|w>>>25),w=P+(x^R&(N^x))+V[5]+1200080426&4294967295,P=R+(w<<12&4294967295|w>>>20),w=x+(N^P&(R^N))+V[6]+2821735955&4294967295,x=P+(w<<17&4294967295|w>>>15),w=N+(R^x&(P^R))+V[7]+4249261313&4294967295,N=x+(w<<22&4294967295|w>>>10),w=R+(P^N&(x^P))+V[8]+1770035416&4294967295,R=N+(w<<7&4294967295|w>>>25),w=P+(x^R&(N^x))+V[9]+2336552879&4294967295,P=R+(w<<12&4294967295|w>>>20),w=x+(N^P&(R^N))+V[10]+4294925233&4294967295,x=P+(w<<17&4294967295|w>>>15),w=N+(R^x&(P^R))+V[11]+2304563134&4294967295,N=x+(w<<22&4294967295|w>>>10),w=R+(P^N&(x^P))+V[12]+1804603682&4294967295,R=N+(w<<7&4294967295|w>>>25),w=P+(x^R&(N^x))+V[13]+4254626195&4294967295,P=R+(w<<12&4294967295|w>>>20),w=x+(N^P&(R^N))+V[14]+2792965006&4294967295,x=P+(w<<17&4294967295|w>>>15),w=N+(R^x&(P^R))+V[15]+1236535329&4294967295,N=x+(w<<22&4294967295|w>>>10),w=R+(x^P&(N^x))+V[1]+4129170786&4294967295,R=N+(w<<5&4294967295|w>>>27),w=P+(N^x&(R^N))+V[6]+3225465664&4294967295,P=R+(w<<9&4294967295|w>>>23),w=x+(R^N&(P^R))+V[11]+643717713&4294967295,x=P+(w<<14&4294967295|w>>>18),w=N+(P^R&(x^P))+V[0]+3921069994&4294967295,N=x+(w<<20&4294967295|w>>>12),w=R+(x^P&(N^x))+V[5]+3593408605&4294967295,R=N+(w<<5&4294967295|w>>>27),w=P+(N^x&(R^N))+V[10]+38016083&4294967295,P=R+(w<<9&4294967295|w>>>23),w=x+(R^N&(P^R))+V[15]+3634488961&4294967295,x=P+(w<<14&4294967295|w>>>18),w=N+(P^R&(x^P))+V[4]+3889429448&4294967295,N=x+(w<<20&4294967295|w>>>12),w=R+(x^P&(N^x))+V[9]+568446438&4294967295,R=N+(w<<5&4294967295|w>>>27),w=P+(N^x&(R^N))+V[14]+3275163606&4294967295,P=R+(w<<9&4294967295|w>>>23),w=x+(R^N&(P^R))+V[3]+4107603335&4294967295,x=P+(w<<14&4294967295|w>>>18),w=N+(P^R&(x^P))+V[8]+1163531501&4294967295,N=x+(w<<20&4294967295|w>>>12),w=R+(x^P&(N^x))+V[13]+2850285829&4294967295,R=N+(w<<5&4294967295|w>>>27),w=P+(N^x&(R^N))+V[2]+4243563512&4294967295,P=R+(w<<9&4294967295|w>>>23),w=x+(R^N&(P^R))+V[7]+1735328473&4294967295,x=P+(w<<14&4294967295|w>>>18),w=N+(P^R&(x^P))+V[12]+2368359562&4294967295,N=x+(w<<20&4294967295|w>>>12),w=R+(N^x^P)+V[5]+4294588738&4294967295,R=N+(w<<4&4294967295|w>>>28),w=P+(R^N^x)+V[8]+2272392833&4294967295,P=R+(w<<11&4294967295|w>>>21),w=x+(P^R^N)+V[11]+1839030562&4294967295,x=P+(w<<16&4294967295|w>>>16),w=N+(x^P^R)+V[14]+4259657740&4294967295,N=x+(w<<23&4294967295|w>>>9),w=R+(N^x^P)+V[1]+2763975236&4294967295,R=N+(w<<4&4294967295|w>>>28),w=P+(R^N^x)+V[4]+1272893353&4294967295,P=R+(w<<11&4294967295|w>>>21),w=x+(P^R^N)+V[7]+4139469664&4294967295,x=P+(w<<16&4294967295|w>>>16),w=N+(x^P^R)+V[10]+3200236656&4294967295,N=x+(w<<23&4294967295|w>>>9),w=R+(N^x^P)+V[13]+681279174&4294967295,R=N+(w<<4&4294967295|w>>>28),w=P+(R^N^x)+V[0]+3936430074&4294967295,P=R+(w<<11&4294967295|w>>>21),w=x+(P^R^N)+V[3]+3572445317&4294967295,x=P+(w<<16&4294967295|w>>>16),w=N+(x^P^R)+V[6]+76029189&4294967295,N=x+(w<<23&4294967295|w>>>9),w=R+(N^x^P)+V[9]+3654602809&4294967295,R=N+(w<<4&4294967295|w>>>28),w=P+(R^N^x)+V[12]+3873151461&4294967295,P=R+(w<<11&4294967295|w>>>21),w=x+(P^R^N)+V[15]+530742520&4294967295,x=P+(w<<16&4294967295|w>>>16),w=N+(x^P^R)+V[2]+3299628645&4294967295,N=x+(w<<23&4294967295|w>>>9),w=R+(x^(N|~P))+V[0]+4096336452&4294967295,R=N+(w<<6&4294967295|w>>>26),w=P+(N^(R|~x))+V[7]+1126891415&4294967295,P=R+(w<<10&4294967295|w>>>22),w=x+(R^(P|~N))+V[14]+2878612391&4294967295,x=P+(w<<15&4294967295|w>>>17),w=N+(P^(x|~R))+V[5]+4237533241&4294967295,N=x+(w<<21&4294967295|w>>>11),w=R+(x^(N|~P))+V[12]+1700485571&4294967295,R=N+(w<<6&4294967295|w>>>26),w=P+(N^(R|~x))+V[3]+2399980690&4294967295,P=R+(w<<10&4294967295|w>>>22),w=x+(R^(P|~N))+V[10]+4293915773&4294967295,x=P+(w<<15&4294967295|w>>>17),w=N+(P^(x|~R))+V[1]+2240044497&4294967295,N=x+(w<<21&4294967295|w>>>11),w=R+(x^(N|~P))+V[8]+1873313359&4294967295,R=N+(w<<6&4294967295|w>>>26),w=P+(N^(R|~x))+V[15]+4264355552&4294967295,P=R+(w<<10&4294967295|w>>>22),w=x+(R^(P|~N))+V[6]+2734768916&4294967295,x=P+(w<<15&4294967295|w>>>17),w=N+(P^(x|~R))+V[13]+1309151649&4294967295,N=x+(w<<21&4294967295|w>>>11),w=R+(x^(N|~P))+V[4]+4149444226&4294967295,R=N+(w<<6&4294967295|w>>>26),w=P+(N^(R|~x))+V[11]+3174756917&4294967295,P=R+(w<<10&4294967295|w>>>22),w=x+(R^(P|~N))+V[2]+718787259&4294967295,x=P+(w<<15&4294967295|w>>>17),w=N+(P^(x|~R))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const N=R-this.blockSize,V=this.C;let x=this.h,P=0;for(;P<R;){if(x==0)for(;P<=N;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<R;)if(V[x++]=D.charCodeAt(P++),x==this.blockSize){o(this,V),x=0;break}}else for(;P<R;)if(V[x++]=D[P++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[R++]=this.g[N]>>>V&255;return D};function u(D,R){var N=g;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=R(D)}function f(D,R){this.h=R;const N=[];let V=!0;for(let x=D.length-1;x>=0;x--){const P=D[x]|0;V&&P==R||(N[x]=P,V=!1)}this.g=N}var g={};function p(D){return-128<=D&&D<128?u(D,function(R){return new f([R|0],R<0?-1:0)}):new f([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return k(_(-D));const R=[];let N=1;for(let V=0;D>=N;V++)R[V]=D/N|0,N*=4294967296;return new f(R,0)}function T(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(T(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(R,8));let V=b;for(let P=0;P<D.length;P+=8){var x=Math.min(8,D.length-P);const w=parseInt(D.substring(P,P+x),R);x<8?(x=_(Math.pow(R,x)),V=V.j(x).add(_(w))):(V=V.j(N),V=V.add(_(w)))}return V}var b=p(0),I=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-k(this).m();let D=0,R=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(Y(this))return"-"+k(this).toString(D);const R=_(Math.pow(D,6));var N=this;let V="";for(;;){const x=Re(N,R).g;N=re(N,x.j(R));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=x,G(N))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=re(this,D),Y(D)?-1:G(D)?0:1};function k(D){const R=D.g.length,N=[];for(let V=0;V<R;V++)N[V]=~D.g[V];return new f(N,~D.h).add(I)}r.abs=function(){return Y(this)?k(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let x=0;x<=R;x++){let P=V+(this.i(x)&65535)+(D.i(x)&65535),w=(P>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);V=w>>>16,P&=65535,w&=65535,N[x]=w<<16|P}return new f(N,N[N.length-1]&-2147483648?-1:0)};function re(D,R){return D.add(k(R))}r.j=function(D){if(G(this)||G(D))return b;if(Y(this))return Y(D)?k(this).j(k(D)):k(k(this).j(D));if(Y(D))return k(this.j(k(D)));if(this.l(O)<0&&D.l(O)<0)return _(this.m()*D.m());const R=this.g.length+D.g.length,N=[];for(var V=0;V<2*R;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<D.g.length;x++){const P=this.i(V)>>>16,w=this.i(V)&65535,Ye=D.i(x)>>>16,mt=D.i(x)&65535;N[2*V+2*x]+=w*mt,de(N,2*V+2*x),N[2*V+2*x+1]+=P*mt,de(N,2*V+2*x+1),N[2*V+2*x+1]+=w*Ye,de(N,2*V+2*x+1),N[2*V+2*x+2]+=P*Ye,de(N,2*V+2*x+2)}for(D=0;D<R;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=R;D<2*R;D++)N[D]=0;return new f(N,0)};function de(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ge(D,R){this.g=D,this.h=R}function Re(D,R){if(G(R))throw Error("division by zero");if(G(D))return new ge(b,b);if(Y(D))return R=Re(k(D),R),new ge(k(R.g),k(R.h));if(Y(R))return R=Re(D,k(R)),new ge(k(R.g),R.h);if(D.g.length>30){if(Y(D)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var N=I,V=R;V.l(D)<=0;)N=qe(N),V=qe(V);var x=we(N,1),P=we(V,1);for(V=we(V,2),N=we(N,2);!G(V);){var w=P.add(V);w.l(D)<=0&&(x=x.add(N),P=w),V=we(V,1),N=we(N,1)}return R=re(D,x.j(R)),new ge(x,R)}for(x=b;D.l(R)>=0;){for(N=Math.max(1,Math.floor(D.m()/R.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=_(N),w=P.j(R);Y(w)||w.l(D)>0;)N-=V,P=_(N),w=P.j(R);G(P)&&(P=I),x=x.add(P),D=re(D,w)}return new ge(x,D)}r.B=function(D){return Re(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function qe(D){const R=D.g.length+1,N=[];for(let V=0;V<R;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function we(D,R){const N=R>>5;R%=32;const V=D.g.length-N,x=[];for(let P=0;P<V;P++)x[P]=R>0?D.i(P+N)>>>R|D.i(P+N+1)<<32-R:D.i(P+N);return new f(x,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,LT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,$r=f}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PT,Il,kT,Hc,vm,jT,zT,BT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in E))break e;E=E[j]}c=c[c.length-1],A=E[c],m=m(A),m!=A&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,E){return c.call.apply(c.bind,arguments)}function _(c,m,E){return _=p,_.apply(null,arguments)}function T(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,j,F){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return m.prototype[j].apply(A,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const m=c.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=c[A];return E}return[]}function G(c,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=c.length||0;const F=j.length||0;c.length=E+F;for(let te=0;te<F;te++)c[E+te]=j[te]}else c.push(j)}}class Y{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(c){f.setTimeout(()=>{throw c},0)}function re(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,E){const A=ge.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new Y(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,we=!1,D=new de,R=()=>{const c=Promise.resolve(void 0);qe=()=>{c.then(N)}};function N(){for(var c;c=re();){try{c.h.call(c.g)}catch(E){k(E)}var m=ge;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,m){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(Ye,x),Ye.prototype.init=function(c,m){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(c,m,E,A,j){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=j,this.key=++K,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,m,E){for(const A in c)m.call(E,c[A],A,c)}function He(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function U(c){const m={};for(const E in c)m[E]=c[E];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,m){let E,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(E in A)c[E]=A[E];for(let F=0;F<J.length;F++)E=J[F],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,E,A,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const te=X(c,m,A,j);return te>-1?(m=c[te],E||(m.fa=!1)):(m=new ie(m,this.src,F,!!A,j),m.fa=E,c.push(m)),m};function _e(c,m){const E=m.type;if(E in c.g){var A=c.g[E],j=Array.prototype.indexOf.call(A,m,void 0),F;(F=j>=0)&&Array.prototype.splice.call(A,j,1),F&&(he(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function X(c,m,E,A){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==m&&F.capture==!!E&&F.ha==A)return j}return-1}var se="closure_lm_"+(Math.random()*1e6|0),Pe={};function Ke(c,m,E,A,j){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Ke(c,m[F],E,A,j);return null}return E=yo(E),c&&c[mt]?c.J(m,E,g(A)?!!A.capture:!1,j):tn(c,m,E,!1,A,j)}function tn(c,m,E,A,j,F){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let Se=as(c);if(Se||(c[se]=Se=new ae(c)),E=Se.add(m,E,A,te,F),E.proxy)return E;if(A=ss(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)P||(j=te),j===void 0&&(j=!1),c.addEventListener(m.toString(),A,j);else if(c.attachEvent)c.attachEvent(ri(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ss(){function c(E){return m.call(c.src,c.listener,E)}const m=po;return c}function Js(c,m,E,A,j){if(Array.isArray(m))for(var F=0;F<m.length;F++)Js(c,m[F],E,A,j);else A=g(A)?!!A.capture:!!A,E=yo(E),c&&c[mt]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],E=X(m,E,A,j),E>-1&&(he(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=as(c))&&(m=c.g[m.toString()],c=-1,m&&(c=X(m,E,A,j)),(E=c>-1?m[c]:null)&&Zs(E))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[mt])_e(m.i,c);else{var E=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(E,A,c.capture):m.detachEvent?m.detachEvent(ri(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=as(m))?(_e(E,c),E.h==0&&(E.src=null,m[se]=null)):he(c)}}}function ri(c){return c in Pe?Pe[c]:Pe[c]="on"+c}function po(c,m){if(c.da)c=!0;else{m=new Ye(m,this);const E=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=E.call(A,m)}return c}function as(c){return c=c[se],c instanceof ae?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function vt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}b(vt,V),vt.prototype[mt]=!0,vt.prototype.removeEventListener=function(c,m,E,A){Js(this,c,m,E,A)};function Dt(c,m){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new x(m,c);else if(m instanceof x)m.target=m.target||c;else{var j=m;m=new x(A,c),ne(m,j)}j=!0;let F,te;if(E)for(te=E.length-1;te>=0;te--)F=m.g=E[te],j=lr(F,A,!0,m)&&j;if(F=m.g=c,j=lr(F,A,!0,m)&&j,j=lr(F,A,!1,m)&&j,E)for(te=0;te<E.length;te++)F=m.g=E[te],j=lr(F,A,!1,m)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let A=0;A<E.length;A++)he(E[A]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,E,A){return this.i.add(String(c),m,!1,E,A)},vt.prototype.K=function(c,m,E,A){return this.i.add(String(c),m,!0,E,A)};function lr(c,m,E,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let F=0;F<m.length;++F){const te=m[F];if(te&&!te.da&&te.capture==E){const Se=te.listener,pt=te.ha||te.src;te.fa&&_e(c.i,te),j=Se.call(pt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Gh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function nu(c){c.g=Gh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){V.call(this),this.h=c,this.g={}}b(os,V);var Eo=[];function vo(c){Le(c.g,function(m,E){this.g.hasOwnProperty(E)&&Zs(m)},c),c.g={}}os.prototype.N=function(){os.Z.N.call(this),vo(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Fh=f.JSON.parse,iu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ru(){}function su(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){x.call(this,"d")}b(zt,x);function In(){x.call(this,"c")}b(In,x);var gt={},au=null;function Ws(){return au=au||new vt}gt.Ia="serverreachability";function ou(c){x.call(this,gt.Ia,c)}b(ou,x);function si(c){const m=Ws();Dt(m,new ou(m))}gt.STAT_EVENT="statevent";function ls(c,m){x.call(this,gt.STAT_EVENT,c),this.stat=m}b(ls,x);function Tt(c){const m=Ws();Dt(m,new ls(m,c))}gt.Ja="timingevent";function ai(c,m){x.call(this,gt.Ja,c),this.size=m}b(ai,x);function oi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function qh(c,m,E,A,j,F){c.info(function(){if(c.g)if(F){var te="",Se=F.split("&");for(let Ge=0;Ge<Se.length;Ge++){var pt=Se[Ge].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Cn=ot.split("_");te=Cn.length>=2&&Cn[1]=="type"?te+(ot+"="+pt+"&"):te+(ot+"=redacted&")}}}else te=null;else te=F;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+E+`
`+te})}function lu(c,m,E,A,j,F,te){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+E+`
`+F+" "+te})}function li(c,m,E,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(c,E)+(A?" "+A:"")})}function us(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Yh(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return ur(F)}catch{return m}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function hs(){}b(hs,ru),hs.prototype.g=function(){return new XMLHttpRequest},Ao=new hs;function Ui(c){return encodeURIComponent(String(c))}function uu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function Fn(c,m,E,A){this.j=c,this.i=m,this.l=E,this.S=A||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var At={},Vt={};function ui(c,m,E){c.M=1,c.A=fs(bt(m)),c.u=E,c.R=!0,ea(c,null)}function ea(c,m){c.F=Date.now(),ci(c),c.B=bt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ra(E.i,"t",A),c.C=0,E=c.j.L,c.h=new qn,c.g=bu(c.j,E?m:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),m=c.V,E=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Eo[0]=j.toString()),j=Eo);for(let F=0;F<j.length;F++){const te=Ke(E,j[F],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),si(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Qn(this.g),pt=this.g.ya(),Ge=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||pt==7||(pt==8||Ge<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var E=Kh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var F=A;break t}}F=null}if(c=F)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=hu(this,E),ot==Vt){Se==4&&(this.m=4,Tt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==At){this.m=4,Tt(15),li(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ot,null),fi(this,ot);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(E.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Po(te),te.P=!0,Tt(11))}}else li(this.i,this.l,E,null),fi(this,E);Se==4&&pn(this),this.o&&!this.K&&(Se==4?vu(this.j,this):(this.o=!1,ci(this)))}else Li(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),Rn(this)}}}catch{}finally{}};function Kh(c){if(!cu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let E="";const A=m.length,j=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,E+=c.h.i.decode(m[F],{stream:!(j&&F==A-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var E=c.C,A=m.indexOf(`
`,E);return A==-1?Vt:(E=Number(m.substring(E,A)),isNaN(E)?At:(A+=1,A+E>m.length?Vt:(m=m.slice(A,A+E),c.C=A+E,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ci(c){c.T=Date.now()+c.H,ta(c,c.H)}function ta(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(_(c.aa,c),m)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(us(this.i,this.B),this.M!=2&&(si(),Tt(17)),pn(this),this.m=2,Rn(this)):ta(this,this.T-c)};function Rn(c){c.j.I==0||c.K||vu(c.j,c)}function pn(c){hi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,vo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function fi(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||mi(E.h,c))){if(!c.L&&mi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ua(E),_r(E);else break e;Es(E),Tt(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=oi(_(E.Va,E),6e3));di(E.h)<=1&&E.ta&&(E.ta=void 0)}else vi(E,11)}else if((c.L||E.g==c)&&ua(E),!w(m))for(j=E.Ba.g.parse(m),m=0;m<j.length;m++){let Ge=j[m];const ot=Ge[0];if(!(ot<=E.K))if(E.K=ot,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Cn=Ge[3];Cn!=null&&(E.ka=Cn,E.j.info("VER="+E.ka));const Ti=Ge[4];Ti!=null&&(E.za=Ti,E.j.info("SVER="+E.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const $n=c.g;if($n){const vs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var F=A.h;F.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Io(F,F.h),F.h=null))}if(A.G){const ca=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(A.wa=ca,Xe(A.J,A.G,ca))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var te=c;if(A.na=Su(A,A.L?A.ba:null,A.W),te.L){Ro(A.h,te);var Se=te,pt=A.O;pt&&(Se.H=pt),Se.D&&(hi(Se),ci(Se)),A.g=te}else yu(A);E.i.length>0&&Ei(E)}else Ge[0]!="stop"&&Ge[0]!="close"||vi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?vi(E,7):Vo(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}si(4)}catch{}}var St=class{constructor(c,m){this.g=c,this.map=m}};function So(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Ro(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}So.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return O(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let j,F=null;A>=0?(j=c[E].substring(0,A),F=c[E].substring(A+1)):j=c[E],m(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof _n?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,No(this,pu(c.i)),this.m=c.m):c&&(m=String(c).match(fu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),cr(this,m[4]),this.h=gi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}_n.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ds(m,ia,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ds(m,ia,!0),"@"),c.push(Ui(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ds(E,E.charAt(0)=="/"?Co:du,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ds(E,mu)),c.join("")},_n.prototype.resolve=function(c){const m=bt(this);let E=!!c.j;E?Lt(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var A=c.h;if(E)cr(m,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let te=0;te<j.length;){const Se=j[te++];Se=="."?A&&te==j.length&&F.push(""):Se==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&te==j.length&&F.push("")):(F.push(Se),A=!0)}A=F.join("/")}else A=j}return E?m.h=A:E=c.i.toString()!=="",E?No(m,pu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function bt(c){return new _n(c)}function Lt(c,m,E){c.j=E?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function No(c,m,E){m instanceof fr?(c.i=m,sa(c.i,c.l)):(E||(m=ds(m,hr)),c.i=new fr(m,c.l))}function Xe(c,m,E){c.i.set(m,E)}function fs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ds(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ia=/[#\/\?@]/g,du=/[#\?:]/g,Co=/[#\?]/g,hr=/[#\?@]/g,mu=/#/g;function fr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&na(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=fr.prototype,r.add=function(c,m){un(this),this.i=null,c=dr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function gu(c,m){un(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return un(c),m=dr(c,m),c.g.has(m)}r.forEach=function(c,m){un(this),this.g.forEach(function(E,A){E.forEach(function(j){c.call(m,j,A,this)},this)},this)};function Do(c,m){un(c);let E=[];if(typeof m=="string")Oo(c,m)&&(E=E.concat(c.g.get(dr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}r.set=function(c,m){return un(this),this.i=null,c=dr(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Do(this,c),c.length>0?String(c[0]):m):m};function ra(c,m,E){gu(c,m),E.length>0&&(c.i=null,c.g.set(dr(c,m),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const j=Ui(E);E=Do(this,E);for(let F=0;F<E.length;F++){let te=j;E[F]!==""&&(te+="="+Ui(E[F])),c.push(te)}}return this.i=c.join("&")};function pu(c){const m=new fr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sa(c,m){m&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,A){const j=A.toLowerCase();A!=j&&(gu(this,A),ra(this,j,E))},c)),c.j=m}function Yn(c,m){const E=new Gn;if(f.Image){const A=new Image;A.onload=T(wn,E,"TestLoadImage: loaded",!0,m,A),A.onerror=T(wn,E,"TestLoadImage: error",!1,m,A),A.onabort=T(wn,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(wn,E,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function xo(c,m){const E=new Gn,A=new AbortController,j=setTimeout(()=>{A.abort(),wn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(j),F.ok?wn(E,"TestPingServer: ok",!0,m):wn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),wn(E,"TestPingServer: error",!1,m)})}function wn(c,m,E,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(E)}catch{}}function mr(){this.g=new iu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(pi,ru),pi.prototype.g=function(){return new ms(this.i,this.h)};function ms(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ms,vt),r=ms.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gr(this):Kn(this),this.readyState==3&&aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let m="";return Le(c,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function gs(c,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Nn(E),typeof c=="string"?E!=null&&Ui(E):Xe(c,m,E))}function Ze(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,vt);var _i=/^https?$/i,Mo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){ps(this,F);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)E.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||A||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,te]of E)this.g.setRequestHeader(F,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){ps(this,F)}};function ps(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Uo(c),Vi(c)}function Uo(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=F===0){let te=String(c.D).match(fu)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),A=!_i.test(te?te.toLowerCase():"")}E=A}if(E)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var j=Qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Uo(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Dt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Fh(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var E=uu(c[A]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=m[j]||[];m[j]=F,F.push(E)}He(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function pr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new So(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,E,A){Tt(0),this.W=c,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Su(this,null,this.W),Ei(this)};function Vo(c){if(oa(c),c.I==3){var m=c.V++,E=bt(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",m),Xe(E,"TYPE","terminate"),ys(c,E),m=new Fn(c,c.j,m),m.M=2,m.A=fs(bt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}Au(c)}function _r(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function oa(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!bo(c.h)&&!c.m){c.m=!0;var m=c.Ea;qe||R(),we||(qe(),we=!0),D.add(m,c),c.D=0}}function la(c,m){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(_(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=U(F),ne(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=_u(this,j,m),E=bt(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),ys(this,E),F&&(this.R?m="headers="+Ui(Nn(F))+"&"+m:this.u&&gs(E,this.u,F)),Io(this.h,j),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",m),Xe(E,"SID","null"),j.U=!0,ui(j,E,null)):ui(j,E,m),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||bo(this.h)||Lo(this))};function Lo(c,m){var E;m?E=m.l:E=c.V++;const A=bt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",E),Xe(A,"AID",c.K),ys(c,A),c.u&&c.o&&gs(A,c.u,c.o),E=new Fn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,E),ui(E,A,m)}function ys(c,m){c.H&&Le(c.H,function(E,A){Xe(m,A,E)}),c.l&&Le({},function(E,A){Xe(m,A,E)})}function _u(c,m,E){E=Math.min(c.i.length,E);const A=c.l?_(c.l.Ka,c.l,c):null;e:{var j=c.i;let Se=-1;for(;;){const pt=["count="+E];Se==-1?E>0?(Se=j[0].g,pt.push("ofs="+Se)):Se=0:pt.push("ofs="+Se);let Ge=!0;for(let ot=0;ot<E;ot++){var F=j[ot].g;const Cn=j[ot].map;if(F-=Se,F<0)Se=Math.max(0,j[ot].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var te=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ti,Xn]of te){let $n=Xn;g(Xn)&&($n=ur(Xn)),pt.push(F+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(Cn)}}if(Ge){te=pt.join("&");break e}}te=void 0}return c=c.i.splice(0,E),m.G=c,te}function yu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;qe||R(),we||(qe(),we=!0),D.add(m,c),c.A=0}}function Es(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(_(c.Da,c),Tu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),_r(this),Eu(this))};function Po(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),ys(c,m),c.u&&c.o&&gs(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=fs(bt(m)),E.u=null,E.R=!0,ea(E,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),Es(this),Tt(19))};function ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function vu(c,m){var E=null;if(c.g==m){ua(c),Po(c),c.g=null;var A=2}else if(mi(c.h,m))E=m.G,Ro(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;A=Ws(),Dt(A,new ai(A,E)),Ei(c)}else yu(c);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&la(c,m)||A==2&&Es(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),j){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Tu(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function vi(c,m){if(c.j.info("Error code "+m),m==2){var E=_(c.bb,c),A=c.Ua;const j=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),fs(A),j?Yn(A.toString(),E):xo(A.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(m),Au(c),oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Au(c){if(c.I=0,c.ja=[],c.l){const m=wo(c.h);(m.length!=0||c.i.length!=0)&&(G(c.ja,m),G(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Su(c,m,E){var A=E instanceof _n?bt(E):new _n(E);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.u);else{var j=f.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const F=new _n(null);A&&Lt(F,A),m&&(F.g=m),j&&cr(F,j),E&&(F.h=E),A=F}return E=c.G,m=c.wa,E&&m&&Xe(A,E,m),Xe(A,"VER",c.ka),ys(c,A),A}function bu(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new pi({ab:E})):new Ze(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function yr(){}yr.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){vt.call(this),this.g=new pr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Pi(this)}b(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Vo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ur(c),c=E);m.i.push(new St(m.Ya++,c)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,rn.Z.N.call(this)};function Ru(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Ru,zt);function wu(){In.call(this),this.status=1}b(wu,In);function Pi(c){this.g=c}b(Pi,Iu),Pi.prototype.ra=function(){Dt(this.g,"a")},Pi.prototype.qa=function(c){Dt(this.g,new Ru(c))},Pi.prototype.pa=function(c){Dt(this.g,new wu)},Pi.prototype.oa=function(){Dt(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,BT=function(){return new yr},zT=function(){return Ws()},jT=gt,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Hc=cs,To.COMPLETE="complete",kT=To,su.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Il=su,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,PT=Ze}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.8.0";function nN(r){co=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new qm("@firebase/firestore");function Ba(){return Fs.logLevel}function oe(r,...e){if(Fs.logLevel<=Me.DEBUG){const n=e.map(Qm);Fs.debug(`Firestore (${co}): ${r}`,...n)}}function ir(r,...e){if(Fs.logLevel<=Me.ERROR){const n=e.map(Qm);Fs.error(`Firestore (${co}): ${r}`,...n)}}function no(r,...e){if(Fs.logLevel<=Me.WARN){const n=e.map(Qm);Fs.warn(`Firestore (${co}): ${r}`,...n)}}function Qm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,HT(r,s,n)}function HT(r,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||HT(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new GT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class aN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Tm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return tm(o)===tm(u)?Ue(o,u):tm(o)?1:-1}return Ue(r.length,e.length)}const cN=55296,hN=57343;function tm(r){const e=r.charCodeAt(0);return e>=cN&&e<=hN}function io(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class ct extends Ri{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ri{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return fN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new Kt([L0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mN(r,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!me.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function FT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $m(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Qa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ql(r,e){if(!FT(r))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,j0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j0);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new at(0,0))}static max(){return new ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function gN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Zr(o,me.empty(),e)}function pN(r){return new Zr(r.readTime,r.key,kl)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(ve.min(),me.empty(),kl)}static max(){return new Zr(ve.max(),me.empty(),kl)}}function _N(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==yN)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next((T=>{f[_]=T,++g,g===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function wh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function TN(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function AN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=z0(e)),e=SN(r.get(n),e);return z0(e)}function SN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case qT:n+="";break;default:n+=u}}return n}function z0(r){return r+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ks(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function YT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Ut(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const bN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=bN.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="server_timestamp",XT="__type__",$T="__previous_value__",JT="__local_write_time__";function Zm(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[XT])==null?void 0:s.stringValue)===QT}function Nh(r){const e=r.mapValue.fields[$T];return Zm(e)?Nh(e):e}function jl(r){const e=Wr(r.mapValue.fields[JT].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,s,o,u,f,g,p,_,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=b}}const rh="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function RN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="__type__",wN="__max__",kc={mapValue:{}},WT="__vector__",sh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zm(r)?4:CN(r)?9007199254740991:NN(r)?10:11:ye(28295,{value:r})}function xi(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jl(r).isEqual(jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),g=Wr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),g=Et(u.doubleValue);return f===g?ih(f)===ih(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(B0(f)!==B0(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!xi(f[p],g[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Bl(r,e){return(r.values||[]).find((n=>xi(n,e)))!==void 0}function ro(r,e){if(r===e)return 0;const n=ts(r),s=ts(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Et(u.integerValue||u.doubleValue),p=Et(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return G0(r.timestampValue,e.timestampValue);case 4:return G0(jl(r),jl(e));case 5:return Tm(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=es(u),p=es(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ue(g[_],p[_]);if(T!==0)return T}return Ue(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ue(Et(u.latitude),Et(f.latitude));return g!==0?g:Ue(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return F0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var I,O,G,Y;const g=u.fields||{},p=f.fields||{},_=(I=g[sh])==null?void 0:I.arrayValue,T=(O=p[sh])==null?void 0:O.arrayValue,b=Ue(((G=_==null?void 0:_.values)==null?void 0:G.length)||0,((Y=T==null?void 0:T.values)==null?void 0:Y.length)||0);return b!==0?b:F0(_,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const I=Tm(p[b],T[b]);if(I!==0)return I;const O=ro(g[p[b]],_[T[b]]);if(O!==0)return O}return Ue(p.length,T.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function G0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=Wr(r),s=Wr(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function F0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ro(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function so(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function Gc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Gc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((u,f)=>{o+=u.length+Gc(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function Sm(r){return!!r&&"integerValue"in r}function Wm(r){return!!r&&"arrayValue"in r}function q0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function NN(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[ZT])==null?void 0:s.stringValue)===WT}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ks(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Dl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return e}return{...r}}function CN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Dl(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new kn(Dl(this.value))}}function eA(r){const e=[];return Ks(r.fields,((n,s)=>{const o=new Kt([n]);if(Fc(s)){const u=eA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),kn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,ve.min(),ve.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ve.min(),ve.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function K0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ON(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{}class Mt extends tA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xN(e,n,s):n==="array-contains"?new VN(e,s):n==="in"?new LN(e,s):n==="not-in"?new PN(e,s):n==="array-contains-any"?new kN(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MN(e,s):new UN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends tA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return nA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nA(r){return r.op==="and"}function iA(r){return DN(r)&&nA(r)}function DN(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function bm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(iA(r))return r.filters.map((e=>bm(e))).join(",");{const e=r.filters.map((n=>bm(n))).join(",");return`${r.op}(${e})`}}function rA(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)})(r,e):r instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&rA(f,o.filters[g])),!0):!1})(r,e):void ye(19439)}function sA(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`})(r):r instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"})(r):"Filter"}class xN extends Mt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class MN extends Mt{constructor(e,n){super(e,"in",n),this.keys=aA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UN extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=aA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aA(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>me.fromName(s.referenceValue)))}class VN extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&Bl(n.arrayValue,this.value)}}class LN extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class PN extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class kN extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Bl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function X0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new jN(r,e,n,s,o,u,f)}function eg(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>bm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>so(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>so(s))).join(",")),e.Te=n}return e.Te}function tg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ON(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!rA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Q0(r.startAt,e.startAt)&&Q0(r.endAt,e.endAt)}function Im(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zN(r,e,n,s,o,u,f,g){return new Ch(r,e,n,s,o,u,f,g)}function ng(r){return new Ch(r)}function $0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BN(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function HN(r){return r.collectionGroup!==null}function xl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ut(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new oh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new oh(Kt.keyField(),s))}return e.Ie}function wi(r){const e=Ae(r);return e.Ee||(e.Ee=GN(e,xl(r))),e.Ee}function GN(r,e){if(r.limitType==="F")return X0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return X0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Rm(r,e,n){return new Ch(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Oh(r,e){return tg(wi(r),wi(e))&&r.limitType===e.limitType}function oA(r){return`${eg(wi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sA(o))).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>so(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>so(o))).join(",")),`Target(${s})`})(wi(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const _=K0(f,g,p);return f.inclusive?_<=0:_<0})(s.startAt,xl(s),o)||s.endAt&&!(function(f,g,p){const _=K0(f,g,p);return f.inclusive?_>=0:_>0})(s.endAt,xl(s),o))})(r,e)}function FN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lA(r){return(e,n)=>{let s=!1;for(const o of xl(r)){const u=qN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qN(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),_=g.data.field(u);return p!==null&&_!==null?ro(p,_):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ht(me.comparator);function rr(){return YN}const uA=new ht(me.comparator);function Rl(...r){let e=uA;for(const n of r)e=e.insert(n.key,n);return e}function cA(r){let e=uA;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function js(){return Ml()}function hA(){return Ml()}function Ml(){return new Qs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const KN=new ht(me.comparator),QN=new Ut(me.comparator);function Ve(...r){let e=QN;for(const n of r)e=e.add(n);return e}const XN=new Ut(Ue);function $N(){return XN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function fA(r){return{integerValue:""+r}}function JN(r,e){return TN(e)?fA(e):ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function ZN(r,e,n){return r instanceof lh?(function(o,u){const f={fields:{[XT]:{stringValue:QT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=Nh(u)),u&&(f.fields[$T]=u),{mapValue:f}})(n,e):r instanceof Hl?mA(r,e):r instanceof Gl?gA(r,e):(function(o,u){const f=dA(o,u),g=J0(f)+J0(o.Ae);return Sm(f)&&Sm(o.Ae)?fA(g):ig(o.serializer,g)})(r,e)}function WN(r,e,n){return r instanceof Hl?mA(r,e):r instanceof Gl?gA(r,e):n}function dA(r,e){return r instanceof uh?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lh extends xh{}class Hl extends xh{constructor(e){super(),this.elements=e}}function mA(r,e){const n=pA(e);for(const s of r.elements)n.some((o=>xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Gl extends xh{constructor(e){super(),this.elements=e}}function gA(r,e){let n=pA(e);for(const s of r.elements)n=n.filter((o=>!xi(o,s)));return{arrayValue:{values:n}}}class uh extends xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J0(r){return Et(r.integerValue||r.doubleValue)}function pA(r){return Wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function eC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof Gl&&o instanceof Gl?io(s.elements,o.elements,xi):s instanceof uh&&o instanceof uh?xi(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(r.transform,e.transform)}class tC{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function _A(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new EA(r.key,tr.none()):new Xl(r.key,r.data,tr.none());{const n=r.data,s=kn.empty();let o=new Ut(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xs(r.key,s,new ti(o.toArray()),tr.none())}}function nC(r,e,n){r instanceof Xl?(function(o,u,f){const g=o.value.clone(),p=W0(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Xs?(function(o,u,f){if(!qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=W0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(yA(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ul(r,e,n,s){return r instanceof Xl?(function(u,f,g,p){if(!qc(u.precondition,f))return g;const _=u.value.clone(),T=ev(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,n,s):r instanceof Xs?(function(u,f,g,p){if(!qc(u.precondition,f))return g;const _=ev(u.fieldTransforms,p,f),T=f.data;return T.setAll(yA(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,g){return qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function iC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=dA(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function Z0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,((u,f)=>eC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yA(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function W0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,WN(f,g,n[o]))}return s}function ev(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ZN(u,f,e))}return s}class EA extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rC extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=hA();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=_A(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((n,s)=>Z0(n,s)))&&io(this.baseMutations,e.baseMutations,((n,s)=>Z0(n,s)))}}class rg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return KN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new rg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function lC(r){switch(r){case ee.OK:return ye(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function vA(r){if(r===void 0)return ir("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return ye(39323,{code:r})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new $r([4294967295,4294967295],0);function tv(r){const e=uC().encode(r),n=new LT;return n.update(e),new Uint8Array(n.digest())}function nv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(cC)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tv(e),[s,o]=nv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new sg(u,o,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=tv(e),[s,o]=nv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uh(ve.min(),o,new ht(Ue),rr(),Ve())}}class $l{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $l(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class TA{constructor(e,n){this.targetId=e,this.Ce=n}}class AA{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=rv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new $l(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=rv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hC{constructor(e){this.Ge=e,this.ze=new Map,this.je=rr(),this.He=jc(),this.Je=jc(),this.Ze=new ht(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,ve.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=es(s).toUint8Array()}catch(p){if(p instanceof KT)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new sg(f,o,u)}catch(p){return no(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Im(g.target)){const p=new me(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Uh(e,n,this.Ze,this.je,s);return this.je=rr(),this.He=jc(),this.Je=jc(),this.Ze=new ht(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new iv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jc(){return new ht(me.comparator)}function rv(){return new ht(me.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},dC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class gC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pC(r,e){return ch(r,e.toTimestamp())}function Ni(r){return Qe(!!r,49232),ve.fromTimestamp((function(n){const s=Wr(n);return new at(s.seconds,s.nanos)})(r))}function ag(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const n=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function bA(r){const e=ct.fromString(r);return Qe(CA(e),10190,{key:e.toString()}),e}function Cm(r,e){return ag(r.databaseId,e.path)}function nm(r,e){const n=bA(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(RA(n))}function IA(r,e){return ag(r.databaseId,e)}function _C(r){const e=bA(r);return e.length===4?ct.emptyPath():RA(e)}function Om(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RA(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sv(r,e,n){return{name:Cm(r,e),fields:n.value.mapValue.fields}}function yC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ye(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const T=_.code===void 0?ee.UNKNOWN:vA(_.code);return new ce(T,_.message||"")})(f);n=new AA(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):ve.min(),g=new kn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Yc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?Ni(s.readTime):ve.min(),f=Wt.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Yc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oC(o,u),g=s.targetId;n=new TA(g,f)}}return n}function EC(r,e){let n;if(e instanceof Xl)n={update:sv(r,e.key,e.value)};else if(e instanceof EA)n={delete:Cm(r,e.key)};else if(e instanceof Xs)n={update:sv(r,e.key,e.data),updateMask:NC(e.fieldMask)};else{if(!(e instanceof rC))return ye(16599,{dt:e.type});n={verify:Cm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:pC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function vC(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(ve.min())&&(f=Ni(u)),new tC(f,o.transformResults||[])})(n,e)))):[]}function TC(r,e){return{documents:[IA(r,e.path)]}}function AC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IA(r,o);const u=(function(_){if(_.length!==0)return NA(Mi.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((T=>(function(I){return{field:Ga(I.field),direction:IC(I.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=wm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function SC(r){let e=_C(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const I=wA(b);return I instanceof Mi&&iA(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((I=>(function(G){return new oh(Fa(G.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let I;return I=typeof b=="object"?b.value:b,wh(I)?null:I})(n.limit));let p=null;n.startAt&&(p=(function(b){const I=!!b.before,O=b.values||[];return new ah(O,I)})(n.startAt));let _=null;return n.endAt&&(_=(function(b){const I=!b.before,O=b.values||[];return new ah(O,I)})(n.endAt)),zN(e,o,f,u,g,"F",p,_)}function bC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>wA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function IC(r){return fC[r]}function RC(r){return dC[r]}function wC(r){return mC[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Kt.fromServerFormat(r.fieldPath)}function NA(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:RC(n.op),value:n.value}}})(r):r instanceof Mi?(function(n){const s=n.getFilters().map((o=>NA(o)));return s.length===1?s[0]:{compositeFilter:{op:wC(n.op),filters:s}}})(r):ye(54877,{filter:r})}function NC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function OA(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s,o,u=ve.min(),f=ve.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.yt=e}}function OC(r){const e=SC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Sn=new xC}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Zr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class xC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(ct.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(DA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",MC=1048576;function lv([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class UC{constructor(e){this.Pr=e,this.buffer=new Ut(lv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?oe(ov,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Ar(3e5)}))}}class LC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Rh.ce);const s=new UC(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(av)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),Ba()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function PC(r,e){return new LC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.changes=new Qs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ul(s.mutation,o,ti.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Rl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,o){let u=rr();const f=Ml(),g=(function(){return Ml()})();return n.forEach(((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Xs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Ul(T.mutation,_,T.mutation.getFieldMask(),at.now())):f.set(_.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((_,T)=>f.set(_,T))),n.forEach(((_,T)=>g.set(_,new jC(T,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Ml();let o=new ht(((f,g)=>f-g)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||ti.empty();T=g.applyToLocalView(_,T),s.set(p,T);const b=(o.get(g.batchId)||Ve()).add(p);o=o.insert(g.batchId,b)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,b=hA();T.forEach((I=>{if(!u.has(I)){const O=_A(n.get(I),s.get(I));O!==null&&b.set(I,O),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return BN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(js());let g=kl,p=u;return f.next((_=>W.forEach(_,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((I=>{p=p.insert(T,I)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,p,_,Ve()))).next((T=>({batchId:g,changes:cA(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(p=>{const _=(function(b,I){return new Ch(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((T=>{T.forEach(((b,I)=>{f=f.insert(b,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))}));let g=Rl();return f.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Ul(T.mutation,_,ti.empty(),at.now()),Dh(n,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:OC(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.overlays=new ht(me.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new me(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=js(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return W.resolve(g)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aC(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.kr=new Ut(kt.Kr),this.qr=new Ut(kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new ct([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new ct([])),s=new kt(n,e),o=new kt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(kt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sC(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new kt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const g=this.Zr(f.Hr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ue);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(g=>{s=s.add(g.Hr)}))})),W.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let g=new Ut(Ue);return this.Jr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Hr)),!0)}),f),W.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return W.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new kt(n,0),o=this.Jr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.ti=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const f=n.path,g=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||_N(pN(T),s)<=0||(o.has(T.key)||Dh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YC(this)}getSize(e){return W.resolve(this.size)}}class YC extends kC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.persistence=e,this.ri=new Qs((n=>eg(n)),tg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new og,this.targetCount=0,this.oi=ao._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this._i={},this.overlays={},this.ai=new Rh(0),this.ui=!1,this.ui=!0,this.ci=new GC,this.referenceDelegate=e(this),this.li=new KC(this),this.indexManager=new DC,this.remoteDocumentCache=(function(o){return new qC(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new CC(n),this.Pi=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new FC(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new QC(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return W.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class QC extends EN{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.fi=new Qs((s=>AN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PC(this,n)}static Vi(e,n){return new hh(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return W.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((g=>{g||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}wr(e,n,s){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LR()?8:vN(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new XC;return this.ys(e,n,f).next((g=>{if(u.result=g,this.As)return this.ws(e,n,f,g.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Ba()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Ba()<=Me.DEBUG&&oe("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ba()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):W.resolve())}gs(e,n){if($0(n))return W.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rm(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ve(...u);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const _=this.bs(n,g);return this.Ss(n,_,f,p.readTime)?this.gs(e,Rm(n,null,"F")):this.Ds(e,_,n,p)}))))})))))}ps(e,n,s,o){return $0(n)||o.isEqual(ve.min())?W.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?W.resolve(null):(Ba()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Ds(e,f,n,gN(o,kl)).next((g=>g)))}))}bs(e,n){let s=new Ut(lA(e));return n.forEach(((o,u)=>{Dh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Ba()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",JC=3e8;class ZC{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ue),this.Fs=new Qs((u=>eg(u)),tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function WC(r,e,n,s){return new ZC(r,e,n,s)}async function MA(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Ve();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function eO(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const b=_.batch,I=b.keys();let O=W.resolve();return I.forEach((G=>{O=O.next((()=>T.getEntry(p,G))).next((Y=>{const k=_.docVersions.get(G);Qe(k!==null,48541),Y.version.compareTo(k)<0&&(b.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))}))})),O.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ve();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function UA(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function tO(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((T,b)=>{const I=o.get(b);if(!I)return;g.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let O=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(b,O),(function(Y,k,re){return Y.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=JC?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(I,O,T)&&g.push(n.li.updateTargetData(u,O))}));let p=rr(),_=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(nO(u,f,e.documentUpdates).next((T=>{p=T.Bs,_=T.Ls}))),!s.isEqual(ve.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return W.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(n.vs=o,u)))}function nO(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=rr();return n.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(ve.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):oe(cg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function iO(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rO(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Yr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Dm(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!fo(f))throw f;oe(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function uv(r,e,n){const s=Ae(r);let o=ve.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,T){const b=Ae(p),I=b.Fs.get(T);return I!==void 0?W.resolve(b.vs.get(I)):b.li.getTargetData(_,T)})(s,f,wi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:Ve()))).next((g=>(sO(s,FN(e),g),{documents:g,ks:u})))))}function sO(r,e,n){let s=r.Ms.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class cv{constructor(){this.activeTargetIds=$N()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(hv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function xm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=xm(),g=this.Qo(e,n.toUriEncodedString());oe(im,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:_}=new URL(g),T=lo(_);return this.zo(e,g,p,s,T).then((b=>(oe(im,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw no(im,`RPC '${e}' ${f} failed with error: `,b,"url: ",g,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=lO[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",Sl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Xa extends uO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xa.c_){const e=zT();Sl(e,jT.STAT_EVENT,(n=>{n.stat===vm.PROXY?oe(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===vm.NOPROXY&&oe(Jt,"STAT_EVENT: detected no buffering proxy")})),Xa.c_=!0}}zo(e,n,s,o,u){const f=xm();return new Promise(((g,p)=>{const _=new PT;_.setWithCredentials(!0),_.listenOnce(kT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const b=_.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),g(b);break;case Hc.TIMEOUT:oe(Jt,`RPC '${e}' ${f} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const I=_.getStatus();if(oe(Jt,`RPC '${e}' ${f} failed with status:`,I,"response text:",_.getResponseText()),I>0){let O=_.getResponseJson();Array.isArray(O)&&(O=O[0]);const G=O==null?void 0:O.error;if(G&&G.status&&G.message){const Y=(function(re){const de=re.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(de)>=0?de:ee.UNKNOWN})(G.status);p(new ce(Y,G.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);oe(Jt,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=xm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=u.join("");oe(Jt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=f.createWebChannel(_,g);this.I_(T);let b=!1,I=!1;const O=new cO({Ho:G=>{I?oe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(oe(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),oe(Jt,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Jo:()=>T.close()});return Sl(T,Il.EventType.OPEN,(()=>{I||(oe(Jt,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),Sl(T,Il.EventType.CLOSE,(()=>{I||(I=!0,oe(Jt,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(T))})),Sl(T,Il.EventType.ERROR,(G=>{I||(I=!0,no(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),O.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),Sl(T,Il.EventType.MESSAGE,(G=>{var Y;if(!I){const k=G.data[0];Qe(!!k,16349);const re=k,de=(re==null?void 0:re.error)||((Y=re[0])==null?void 0:Y.error);if(de){oe(Jt,`RPC '${e}' stream ${o} received error:`,de);const ge=de.status;let Re=(function(D){const R=Ct[D];if(R!==void 0)return vA(R)})(ge),qe=de.message;Re===void 0&&(Re=ee.INTERNAL,qe="Unknown error status: "+ge+" with message "+de.message),I=!0,O.o_(new ce(Re,qe)),T.close()}else oe(Jt,`RPC '${e}' stream ${o} received:`,k),O.__(k)}})),Xa.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r){return new Xa(r)}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new gC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa.c_=!1;class VA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class LA{constructor(e,n,s,o,u,f,g,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(oe(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fO extends LA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Ni(f.readTime):ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Om(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Im(p)?{documents:TC(u,p)}:{query:AC(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=SA(u,f.resumeToken);const _=wm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(ve.min())>0){g.readTime=ch(u,f.snapshotVersion.toTimestamp());const _=wm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=bC(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.K_(n)}}class dO extends LA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vC(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Om(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>EC(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class gO extends mO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Nm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,Nm(n,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pO(r,e,n,s){return new gO(r,e,n,s)}class _O{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class yO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(oe(qs,"Restarting streams for network reachability change."),await(async function(p){const _=Ae(p);_.Ea.add(4),await Jl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Lh(_)})(this))}))})),this.Va=new _O(s,o)}}async function Lh(r){if($s(r))for(const e of r.Ra)await e(!0)}async function Jl(r){for(const e of r.Ra)await e(!1)}function PA(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mg(n)?dg(n):mo(n).O_()&&fg(n,e))}function hg(r,e){const n=Ae(r),s=mo(n);n.Ia.delete(e),s.O_()&&kA(n,e),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Va.set("Unknown"))}function fg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).Z_(e)}function kA(r,e){r.da.$e(e),mo(r).X_(e)}function dg(r){r.da=new hC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Va.ua()}function mg(r){return $s(r)&&!mo(r).x_()&&r.Ia.size>0}function $s(r){return Ae(r).Ea.size===0}function jA(r){r.da=void 0}async function EO(r){r.Va.set("Online")}async function vO(r){r.Ia.forEach(((e,n)=>{fg(r,e)}))}async function TO(r,e){jA(r),mg(r)?(r.Va.ha(e),dg(r)):r.Va.set("Unknown")}async function AO(r,e,n){if(r.Va.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){oe(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Yc?r.da.Xe(e):e instanceof TA?r.da.st(e):r.da.tt(e),!n.isEqual(ve.min()))try{const s=await UA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.da.Tt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),kA(u,p);const b=new Yr(T.target,p,_,T.sequenceNumber);fg(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){oe(qs,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!fo(e))throw e;r.Ea.add(1),await Jl(r),r.Va.set("Offline"),n||(n=()=>UA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Lh(r)}))}function zA(r,e){return e().catch((n=>fh(r,n,e)))}async function Ph(r){const e=Ae(r),n=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;SO(e);)try{const o=await iO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,bO(e,o)}catch(o){await fh(e,o)}BA(e)&&HA(e)}function SO(r){return $s(r)&&r.Ta.length<10}function bO(r,e){r.Ta.push(e);const n=ns(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function BA(r){return $s(r)&&!ns(r).x_()&&r.Ta.length>0}function HA(r){ns(r).start()}async function IO(r){ns(r).ra()}async function RO(r){const e=ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function wO(r,e,n){const s=r.Ta.shift(),o=rg.from(s,e,n);await zA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ph(r)}async function NO(r,e){e&&ns(r).Y_&&await(async function(s,o){if((function(f){return lC(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ns(s).B_(),await zA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ph(s)}})(r,e),BA(r)&&HA(r)}async function mv(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(qs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await Jl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lh(n)}async function CO(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Lh(n)):e||(n.Ea.add(2),await Jl(n),n.Va.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new fO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:EO.bind(null,r),Yo:vO.bind(null,r),t_:TO.bind(null,r),J_:AO.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),mg(r)?dg(r):r.Va.set("Unknown")):(await r.ma.stop(),jA(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new dO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:IO.bind(null,r),t_:NO.bind(null,r),ta:RO.bind(null,r),na:wO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ph(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,g=new gg(e,n,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(r,e){if(ir("AsyncQueue",`${e}: ${r}`),fo(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class oo{constructor(e,n,s,o,u,f,g,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new oo(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class DO{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=pv(),u.forEach(((f,g)=>{for(const p of g.ba)p.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function pv(){return new Qs((r=>oA(r)),Oh)}async function xO(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new OO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=pg(f,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_g(n)}async function MO(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.ba)g.Fa(o)&&(s=!0);f.wa=o}}s&&_g(n)}function VO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function _g(r){r.Ca.forEach((e=>{e.next()}))}var Mm,_v;(_v=Mm||(Mm={})).Ma="default",_v.Cache="cache";class LO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class PO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=lA(e),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new gv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const I=o.get(T),O=Dh(this.query,b)?b:null,G=!!I&&this.mutatedKeys.has(I.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;I&&O?I.data.isEqual(O.data)?G!==Y&&(s.track({type:3,doc:O}),k=!0):this.su(I,O)||(s.track({type:2,doc:O}),k=!0,(p&&this.eu(O,p)>0||_&&this.eu(O,_)<0)&&(g=!0)):!I&&O?(s.track({type:0,doc:O}),k=!0):I&&!O&&(s.track({type:1,doc:I}),k=!0,(p||_)&&(g=!0)),k&&(O?(f=f.add(O),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(O,G){const Y=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:k})}};return Y(O)-Y(G)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Xa;return this.Xa=p,f.length!==0||_?{snapshot:new oo(this.query,e.tu,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new FA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new GA(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yg="SyncEngine";class kO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class jO{constructor(e){this.key=e,this.hu=!1}}class zO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Qs((g=>oA(g)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(me.comparator),this.Au=new Map,this.Vu=new og,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BO(r,e,n=!0){const s=$A(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qA(s,e,n,!0),o}async function HO(r,e){const n=$A(r);await qA(n,e,!0,!1)}async function qA(r,e,n,s){const o=await rO(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await GO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&PA(r.remoteStore,o),g}async function GO(r,e,n,s,o){r.pu=(b,I,O)=>(async function(Y,k,re,de){let ge=k.view.ru(re);ge.Ss&&(ge=await uv(Y.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,ge))));const Re=de&&de.targetChanges.get(k.targetId),qe=de&&de.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(ge,Y.isPrimaryClient,Re,qe);return Ev(Y,k.targetId,we.au),we.snapshot})(r,b,I,O);const u=await uv(r.localStore,e,!0),f=new PO(e,u.ks),g=f.ru(u.documents),p=$l.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(g,r.isPrimaryClient,p);Ev(r,n,_.au);const T=new kO(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function FO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Oh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),Um(s,o.targetId)})).catch(ho)):(Um(s,o.targetId),await Dm(s.localStore,o.targetId,!0))}async function qO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function YO(r,e,n){const s=WO(r);try{const o=await(function(f,g){const p=Ae(f),_=at.now(),T=g.reduce(((O,G)=>O.add(G.key)),Ve());let b,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let G=rr(),Y=Ve();return p.xs.getEntries(O,T).next((k=>{G=k,G.forEach(((re,de)=>{de.isValidDocument()||(Y=Y.add(re))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,G))).next((k=>{b=k;const re=[];for(const de of g){const ge=iC(de,b.get(de.key).overlayedDocument);ge!=null&&re.push(new Xs(de.key,ge,eA(ge.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,re,g)})).next((k=>{I=k;const re=k.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(O,k.batchId,re)}))})).then((()=>({batchId:I.batchId,changes:cA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let _=f.du[f.currentUser.toKey()];_||(_=new ht(Ue)),_=_.insert(g,p),f.du[f.currentUser.toKey()]=_})(s,o.batchId,n),await Zl(s,o.changes),await Ph(s.remoteStore)}catch(o){const u=pg(o,"Failed to persist write");n.reject(u)}}async function YA(r,e){const n=Ae(r);try{const s=await tO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Zl(n,s,e)}catch(s){await ho(s)}}function yv(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Ae(f);p.onlineState=g;let _=!1;p.queries.forEach(((T,b)=>{for(const I of b.ba)I.va(g)&&(_=!0)})),_&&_g(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(me.comparator);f=f.insert(u,Wt.newNoDocument(u,ve.min()));const g=Ve().add(u),p=new Uh(ve.min(),new Map,new ht(Ue),f,g);await YA(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Eg(s)}else await Dm(s.localStore,e,!1).then((()=>Um(s,e,n))).catch(ho)}async function QO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await eO(n.localStore,e);QA(n,s,null),KA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await ho(o)}}async function XO(r,e,n){const s=Ae(r);try{const o=await(function(f,g){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((b=>(Qe(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);QA(s,e,n),KA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zl(s,o)}catch(o){await ho(o)}}function KA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function QA(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||XA(r,s)}))}function XA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(hg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Eg(r))}function Ev(r,e,n){for(const s of n)s instanceof GA?(r.Vu.addReference(s.key,e),$O(r,s)):s instanceof FA?(oe(yg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||XA(r,s.key)):ye(19791,{wu:s})}function $O(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(oe(yg,"New document in limbo: "+n),r.Eu.add(s),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(ct.fromString(e)),s=r.fu.next();r.Au.set(s,new jO(n)),r.Ru=r.Ru.insert(n,s),PA(r.remoteStore,new Yr(wi(ng(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function Zl(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=ug.Es(p.targetId,_);u.push(b)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(_,(I=>W.forEach(I.Ts,(O=>T.persistence.referenceDelegate.addReference(b,I.targetId,O))).next((()=>W.forEach(I.Is,(O=>T.persistence.referenceDelegate.removeReference(b,I.targetId,O)))))))))}catch(b){if(!fo(b))throw b;oe(cg,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const O=T.vs.get(I),G=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(G);T.vs=T.vs.insert(I,Y)}}})(s.localStore,u))}async function JO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(yg,"User change. New user:",e.toKey());const s=await MA(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new ce(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ns)}}function ZO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function $A(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KO.bind(null,e),e.Pu.J_=UO.bind(null,e.eventManager),e.Pu.yu=VO.bind(null,e.eventManager),e}function WO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XO.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WC(this.persistence,new $C,e.initialUser,this.serializer)}Cu(e){return new xA(lg.Vi,this.serializer)}Du(e){return new aO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class eD extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new xA((s=>hh.Vi(s,n)),this.serializer)}}class Vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DO})()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),s=hO(e.databaseInfo);return pO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,g){return new yO(s,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>yv(this.syncEngine,n,0)),(function(){return fv.v()?new fv:new oO})())}createSyncEngine(e,n){return(function(o,u,f,g,p,_,T){const b=new zO(o,u,f,g,p,_);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ae(o);oe(qs,"RemoteStore shutting down."),u.Ea.add(5),await Jl(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class nD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await MA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function vv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await iD(r);oe(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>mv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>mv(e.remoteStore,o))),r._onlineComponents=e}async function iD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(is,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new dh)}}else oe(is,"Using default OfflineComponentProvider"),await sm(r,new eD(void 0));return r._offlineComponents}async function JA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(is,"Using user provided OnlineComponentProvider"),await vv(r,r._uninitializedComponentsProvider._online)):(oe(is,"Using default OnlineComponentProvider"),await vv(r,new Vm))),r._onlineComponents}function rD(r){return JA(r).then((e=>e.syncEngine))}async function Tv(r){const e=await JA(r),n=e.eventManager;return n.onListen=BO.bind(null,e.syncEngine),n.onUnlisten=FO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qO.bind(null,e.syncEngine),n}function sD(r,e,n,s){const o=new tD(s),u=new LO(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>xO(await Tv(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>MO(await Tv(r),u)))}}function aD(r,e){const n=new zs;return r.asyncQueue.enqueueAndForget((async()=>YO(await rD(r),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="ComponentProvider",Av=new Map;function lD(r,e,n,s,o){return new IN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ZA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firestore.googleapis.com",Sv=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MC)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iN;switch(s.type){case"firstParty":return new oN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Av.get(n);s&&(oe(oD,"Removing Datastore"),Av.delete(n),s.terminate())})(this),Promise.resolve()}}function uD(r,e,n,s={}){var _;r=Qa(r,vg);const o=lo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(NT(`https://${g}`),CT("Firestore",!0)),u.host!==WA&&u.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!Hs(p,f)&&(r._setSettings(p),s.mockUserToken)){let T,b;if(typeof s.mockUserToken=="string")T=s.mockUserToken,b=Zt.MOCK_USER;else{T=wR(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(I)}r._authCredentials=new rN(new GT(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ql(n,jt._jsonSchema))return new jt(e,s||null,new me(ct.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ot("string",jt._jsonSchemaVersion),referencePath:Ot("string")};class Fl extends kh{constructor(e,n,s){super(e,n,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new me(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function cD(r,e,...n){if(r=Bn(r),arguments.length===1&&(e=Xm.newId()),dN("doc","path",e),r instanceof vg){const s=ct.fromString(e,...n);return P0(s),new jt(r,null,new me(s))}{if(!(r instanceof jt||r instanceof Fl))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...n));return P0(s),new jt(r.firestore,r instanceof Fl?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VA(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&oe(Iv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;oe(Iv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",wv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=gg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class mh extends vg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function hD(r,e){const n=typeof r=="object"?r:MT(),s=typeof r=="string"?r:rh,o=Km(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=IR("firestore");u&&uD(o,...u)}return o}function eS(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fD(r),r._firestoreClient}function fD(r){var s,o,u,f;const e=r._freezeSettings(),n=lD(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ot("string",jn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ot("string",Ci._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ot("string",ii._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^__.*__$/;class mD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function iS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class Tg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iS(this.dataSource)&&dD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(e)}createContext(e,n,s,o=!1){return new Tg({dataSource:e,methodName:n,targetDoc:s,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pD(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new gD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _D(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);oS("Data must be an object, but it was:",f,s);const g=sS(s,f);let p,_;if(u.merge)p=new ti(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const I=Ag(e,b,n);if(!f.contains(I))throw new ce(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);vD(T,I)||T.push(I)}p=new ti(T),_=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,_=f.fieldTransforms;return new mD(new kn(g),p,_)}function rS(r,e){if(aS(r=Bn(r)))return oS("Unsupported field value:",e,r),sS(r,e);if(r instanceof nS)return(function(s,o){if(!iS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=rS(g,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:SA(o.serializer,s._byteString)};if(s instanceof jt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ii)return(function(f,g){const p=f instanceof ii?f.toArray():f;return{mapValue:{fields:{[ZT]:{stringValue:WT},[sh]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return ig(g.serializer,T)}))}}}}}})(s,o);if(OA(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$m(s)}`)})(r,e)}function sS(r,e){const n={};return YT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(r,((s,o)=>{const u=rS(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function aS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ci||r instanceof jn||r instanceof jt||r instanceof nS||r instanceof ii||OA(r))}function oS(r,e,n){if(!aS(n)||!FT(n)){const s=$m(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ag(r,e,n){if((e=Bn(e))instanceof tS)return e._internalPath;if(typeof e=="string")return ED(r,e);throw gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const yD=new RegExp("[~\\*/\\[\\]]");function ED(r,e,n){if(e.search(yD)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tS(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function gh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,g+r+p)}function vD(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[sh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Et(f.doubleValue)));return new ii(n)}convertGeoPoint(e){return new Ci(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Nh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Qe(CA(s),9688,{name:e});const o=new zl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends TD{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}const Nv="@firebase/firestore",Cv="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AD extends uS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function bD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bs extends uS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ot("string",Bs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Kc extends Bs{data(e={}){return super.data(e)}}class Ja{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Kc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Kc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:ID(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ID(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ot("string",Ja._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function cS(r,e,n){r=Qa(r,jt);const s=Qa(r.firestore,mh),o=bD(r.converter,e),u=pD(s);return wD(s,[_D(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,tr.none())])}function RD(r,...e){var _,T,b;r=Bn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ov(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ov(e[s])){const I=e[s];e[s]=(_=I.next)==null?void 0:_.bind(I),e[s+1]=(T=I.error)==null?void 0:T.bind(I),e[s+2]=(b=I.complete)==null?void 0:b.bind(I)}let u,f,g;if(r instanceof jt)f=Qa(r.firestore,mh),g=ng(r._key.path),u={next:I=>{e[s]&&e[s](ND(f,r,I))},error:e[s+1],complete:e[s+2]};else{const I=Qa(r,kh);f=Qa(I.firestore,mh),g=I._query;const O=new lS(f);u={next:G=>{e[s]&&e[s](new Ja(f,O,I,G))},error:e[s+1],complete:e[s+2]},SD(r._query)}const p=eS(f);return sD(p,g,o,u)}function wD(r,e){const n=eS(r);return aD(n,e)}function ND(r,e,n){const s=n.docs.get(e._key),o=new lS(r);return new Bs(r,o,e._key,s,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){nN(uo),to(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new mh(new sN(s.getProvider("auth-internal")),new lN(f,s.getProvider("app-check-internal")),RN(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Xr(Nv,Cv,e),Xr(Nv,Cv,"esm2020")})();function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CD=hS,fS=new Yl("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new qm("@firebase/auth");function OD(r,...e){ph.logLevel<=Me.WARN&&ph.warn(`Auth (${uo}): ${r}`,...e)}function Qc(r,...e){ph.logLevel<=Me.ERROR&&ph.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(r,...e){throw Sg(r,...e)}function Oi(r,...e){return Sg(r,...e)}function dS(r,e,n){const s={...CD(),[e]:n};return new Yl("auth","Firebase",s).create(e,{appName:r.name})}function Jr(r){return dS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return fS.create(r,...e)}function Ee(r,e,...n){if(!r)throw Sg(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qc(e),new Error(e)}function ar(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function DD(){return Dv()==="http:"||Dv()==="https:"}function Dv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DD()||MR()||"connection"in navigator)?navigator.onLine:!0}function MD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=OR()||UR()}get(){return xD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LD=new Wl(3e4,6e4);function jh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function go(r,e,n,s,o={}){return gS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Kl({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...u};return xR()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),mS.fetch()(await _S(r,r.config.apiHost,n,g),_)})}async function gS(r,e,n){r._canInitEmulator=!1;const s={...UD,...e};try{const o=new PD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw dS(r,T,_);sr(r,T)}}catch(o){if(o instanceof or)throw o;sr(r,"network-request-failed",{message:String(o)})}}async function pS(r,e,n,s,o={}){const u=await go(r,e,n,s,o);return"mfaPendingCredential"in u&&sr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _S(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?bg(r.config,o):`${r.config.apiScheme}://${o}`;return VD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),LD.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(r,e){return go(r,"POST","/v1/accounts:delete",e)}async function _h(r,e){return go(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(r,e=!1){const n=Bn(r),s=await n.getIdToken(e),o=Ig(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Vl(am(o.auth_time)),issuedAtTime:Vl(am(o.iat)),expirationTime:Vl(am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function am(r){return Number(r)*1e3}function Ig(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=bT(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xv(r){const e=Ig(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&zD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function zD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var b;const e=r.auth,n=await r.getIdToken(),s=await ql(r,_h(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?yS(o.providerUserInfo):[],f=GD(r.providerData,u),g=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),_=g?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function HD(r){const e=Bn(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function yS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,e){const n=await gS(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await _S(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(p.credentials="include"),mS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qD(r,e){return go(r,"POST","/v2/accounts:revokeToken",jh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return HD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await ql(this,kD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:I,isAnonymous:O,providerData:G,stsTokenManager:Y}=n;Ee(b&&Y,e,"internal-error");const k=Za.fromJSON(this.name,Y);Ee(typeof b=="string",e,"internal-error"),Br(s,e.name),Br(o,e.name),Ee(typeof I=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Br(u,e.name),Br(f,e.name),Br(g,e.name),Br(p,e.name),Br(_,e.name),Br(T,e.name);const re=new ni({uid:b,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:k,createdAt:_,lastLoginAt:T});return G&&Array.isArray(G)&&(re.providerData=G.map(de=>({...de}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Za;g.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function er(r){ar(r instanceof Function,"Expected a class definition");let e=Mv.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ES.type="NONE";const Uv=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(er(Uv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||er(Uv);const f=Xc(s,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let b;if(typeof T=="string"){const I=await _h(e,{idToken:T}).catch(()=>{});if(!I)break;b=await ni._fromGetAccountInfoResponse(e,I,T)}else b=ni._fromJSON(e,T);_!==u&&(g=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(RS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||AS(e))&&!e.includes("edge/"))return"Chrome";if(bS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vS(r=en()){return/firefox\//i.test(r)}function TS(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AS(r=en()){return/crios\//i.test(r)}function SS(r=en()){return/iemobile/i.test(r)}function bS(r=en()){return/android/i.test(r)}function IS(r=en()){return/blackberry/i.test(r)}function RS(r=en()){return/webos/i.test(r)}function Rg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YD(r=en()){var e;return Rg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function KD(){return VR()&&document.documentMode===10}function wS(r=en()){return Rg(r)||bS(r)||RS(r)||IS(r)||/windows phone/i.test(r)||SS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(r,e=[]){let n;switch(r){case"Browser":n=Vv(en());break;case"Worker":n=`${Vv(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(r,e={}){return go(r,"GET","/v2/passwordPolicy",jh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=6;class JD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(ei(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Jr(this));const n=e?Bn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XD(this),n=new JD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&OD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zh(r){return Bn(r)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=GR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WD(r){wg=r}function e2(r){return wg.loadJS(r)}function t2(){return wg.gapiScript}function n2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r,e){const n=Km(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,e??{}))return o;sr(o,"already-initialized")}return n.initialize({options:e})}function r2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function s2(r,e,n){const s=zh(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=CS(e),{host:f,port:g}=a2(e),p=g===null?"":`:${g}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Hs(_,s.config.emulator)&&Hs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(NT(`${u}//${f}${p}`),CT("Auth",!0)):o2()}function CS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function a2(r){const e=CS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Pv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Pv(f)}}}function Pv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function o2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,e){return pS(r,"POST","/v1/accounts:signInWithIdp",jh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="http://localhost";class Ys extends OS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends DS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends eu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends eu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends eu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){return pS(r,"POST","/v1/accounts:signUp",jh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=kv(s);return new rs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=kv(s);return new rs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r){var o;if(ei(r.app))return Promise.reject(Jr(r));const e=zh(r);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new rs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await u2(e,{returnSecureToken:!0}),s=await rs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function xS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function h2(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return rs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await ql(r,xS(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Ig(u.idToken);Ee(f,s,"internal-error");const{sub:g}=f;return Ee(r.uid===g,s,"user-mismatch"),rs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&sr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(r,e,n=!1){if(ei(r.app))return Promise.reject(Jr(r));const s="signIn",o=await xS(r,s,e),u=await rs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function m2(r,e,n,s){return Bn(r).onIdTokenChanged(e,n,s)}function g2(r,e,n){return Bn(r).beforeAuthStateChanged(e,n)}function p2(r,e,n,s){return Bn(r).onAuthStateChanged(e,n,s)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1e3,y2=10;class US extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);KD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,y2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const E2=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VS.type="SESSION";const LS=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async _=>_(n.origin,u)),p=await v2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const _=Ng("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(I.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function A2(r){Di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function S2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function I2(){return PS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",R2=1,Th="firebaseLocalStorage",jS="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function w2(){const r=indexedDB.deleteDatabase(kS);return new tu(r).toPromise()}function km(){const r=indexedDB.open(kS,R2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:jS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await w2(),e(await km()))})})}async function jv(r,e,n){const s=Hh(r,!0).put({[jS]:e,value:n});return new tu(s).toPromise()}async function N2(r,e){const n=Hh(r,!1).get(e),s=await new tu(n).toPromise();return s===void 0?null:s.value}function zv(r,e){const n=Hh(r,!0).delete(e);return new tu(n).toPromise()}const C2=800,O2=3;class zS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>O2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(I2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new T2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await jv(e,vh,"1"),await zv(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>N2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zS.type="LOCAL";const D2=zS;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e){return e?er(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends OS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M2(r){return d2(r.auth,new Cg(r),r.bypassAuthState)}function U2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),f2(n,new Cg(r),r.bypassAuthState)}async function V2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),h2(n,new Cg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return U2;default:sr(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Wl(2e3,1e4);class Ya extends BS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L2.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="pendingRedirect",$c=new Map;class k2 extends BS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(r,e){const n=H2(e),s=B2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function z2(r,e){$c.set(r._key(),e)}function B2(r){return er(r._redirectPersistence)}function H2(r){return Xc(P2,r.config.apiKey,r.name)}async function G2(r,e,n=!1){if(ei(r.app))return Promise.reject(Jr(r));const s=zh(r),o=x2(s,e),f=await new k2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=600*1e3;class q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!HS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function HS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e={}){return go(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function $2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await K2(r);for(const n of e)try{if(J2(n))return}catch{}sr(r,"unauthorized-domain")}function J2(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!X2.test(n))return!1;if(Q2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Wl(3e4,6e4);function Hv(){const r=Di().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function W2(r){return new Promise((e,n)=>{var o,u,f;function s(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(Oi(r,"network-request-failed"))},timeout:Z2.get()})}if((u=(o=Di().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Di().gapi)!=null&&f.load)s();else{const g=n2("iframefcb");return Di()[g]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},e2(`${t2()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function ex(r){return Jc=Jc||W2(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Wl(5e3,15e3),nx="__/auth/iframe",ix="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bg(e,ix):`https://${r.config.authDomain}/${nx}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=sx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kl(s).slice(1)}`}async function ox(r){const e=await ex(r),n=Di().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ax(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Oi(r,"network-request-failed"),g=Di().setTimeout(()=>{u(f)},tx.get());function p(){Di().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ux=500,cx=600,hx="_blank",fx="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dx(r,e,n,s=ux,o=cx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...lx,width:s.toString(),height:o.toString(),top:u,left:f},_=en().toLowerCase();n&&(g=AS(_)?hx:n),vS(_)&&(e=e||fx,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[O,G])=>`${I}${O}=${G},`,"");if(YD(_)&&g!=="_self")return mx(e||"",g),new Gv(null);const b=window.open(e||"",g,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new Gv(b)}function mx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",px="emulator/auth/handler",_x=encodeURIComponent("fac");async function Fv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof DS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",HR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof eu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${_x}=${encodeURIComponent(p)}`:"";return`${yx(r)}?${Kl(g).slice(1)}${_}`}function yx({config:r}){return r.emulator?bg(r,px):`https://${r.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class Ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=G2,this._overrideRedirectResult=z2}async _openPopup(e,n,s,o){var f;ar((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,s,Lm(),o);return dx(e,u,Ng())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Fv(e,n,s,Lm(),o);return A2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ox(e),s=new q2(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[om];u!==void 0&&n(!!u),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wS()||TS()||Rg()}}const vx=Ex;var qv="@firebase/auth",Yv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(r){to(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NS(r)},_=new ZD(s,o,u,p);return r2(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Gs("auth-internal",e=>{const n=zh(e.getProvider("auth").getImmediate());return(s=>new Tx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(qv,Yv,Ax(r)),Xr(qv,Yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=300,Ix=wT("authIdTokenMaxAge")||bx;let Kv=null;const Rx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ix)return;const o=n==null?void 0:n.token;Kv!==o&&(Kv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wx(r=MT()){const e=Km(r,"auth");if(e.isInitialized())return e.getImmediate();const n=i2(r,{popupRedirectResolver:vx,persistence:[D2,E2,LS]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Rx(u.toString());g2(n,f,()=>f(n.currentUser)),m2(n,g=>f(g))}}const o=IT("auth");return o&&s2(n,`http://${o}`),n}function Nx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}WD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Nx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");const Cx={apiKey:"AIzaSyCNDxEj-vhDhkMpmNK0CvvoIMmPo2EGLDI",authDomain:"ahmed-mo-space.firebaseapp.com",projectId:"ahmed-mo-space",storageBucket:"ahmed-mo-space.firebasestorage.app",messagingSenderId:"",appId:"1:696776097102:web:850e0d84abd76be8e3721f"},GS=xT(Cx),Ox=hD(GS),Qv=wx(GS);let Ll=null,jm=!1,ks=null,Zc=null;const Dx=new Promise((r,e)=>{ks=r,Zc=e});let Xv=!1;p2(Qv,async r=>{if(console.log("[Auth] State changed:",r?`User ${r.uid}`:"No user"),r)Ll=r,jm=!0,ks&&(ks(r),ks=null);else if(!Xv){Xv=!0,console.log("[Auth] Attempting anonymous sign-in...");try{const e=await c2(Qv);console.log("[Auth] Anonymous sign-in successful:",e.user.uid),Ll=e.user,jm=!0,ks&&(ks(e.user),ks=null)}catch(e){console.error("[Auth] Error signing in anonymously:",e),Zc&&(Zc(e),Zc=null)}}});const xx=async()=>{if(jm&&Ll)return console.log("[Auth] Already authenticated:",Ll.uid),Ll.uid;console.log("[Auth] Waiting for authentication...");const r=await Dx;return console.log("[Auth] Authentication ready:",r.uid),r.uid},FS=async()=>{console.log("[Storage] Getting user document reference...");const r=await xx();return console.log("[Storage] Using userId:",r),cD(Ox,"workspaces",r)},zm={tasks:[{id:"1",title:"Review Q3 goals",completed:!1,priority:"high",createdAt:Date.now(),color:"red"},{id:"2",title:"Email marketing team",completed:!0,priority:"medium",createdAt:Date.now()-1e5,color:"blue"}],links:[{id:"1",title:"Gemini API Docs",url:"https://ai.google.dev",category:"Dev",createdAt:Date.now()}],sheets:[{id:"1",title:"Project Budget",url:"https://docs.google.com/spreadsheets",lastOpened:Date.now()}],notes:[{id:"1",content:"Remember to drink water!",color:"blue",x:0,y:0,createdAt:Date.now()},{id:"2",content:`Meeting notes:
- Discuss new timeline
- Approve budget`,color:"yellow",x:0,y:0,createdAt:Date.now()}]},Mx=()=>zm,Ux=async r=>{const e=await FS();return RD(e,n=>{n.exists()?r(n.data()):(cS(e,zm),r(zm))},n=>{console.error("Error subscribing to state:",n)})},Vx=async r=>{try{const e=await FS(),n={...r,lastUpdated:Date.now()},s=JSON.parse(JSON.stringify(n));await cS(e,s)}catch(e){console.error("Failed to save state to Firestore",e)}},Lx=()=>{const[r,e]=xe.useState("dashboard"),[n,s]=xe.useState(Mx),[o,u]=xe.useState(!1),[f,g]=xe.useState(!0),[p,_]=xe.useState(!1);xe.useEffect(()=>{if(f)return;_(!0);const O=setTimeout(()=>{Vx(n).then(()=>_(!1))},1e3);return()=>clearTimeout(O)},[n,f]),xe.useEffect(()=>{let O;return Ux(G=>{s(Y=>{const k=Y.lastUpdated||0,re=G.lastUpdated||0;return f?(setTimeout(()=>g(!1),500),JSON.parse(JSON.stringify(G))):re>k?JSON.parse(JSON.stringify(G)):Y})}).then(G=>{O=G}),()=>{O&&O()}},[f]);const T=O=>{s({...O,lastUpdated:Date.now()})},b=O=>{s(G=>{const Y={...G,...O,lastUpdated:Date.now()};return O.tasks&&(Y.tasks=[...O.tasks,...G.tasks]),O.links&&(Y.links=[...O.links,...G.links]),O.sheets&&(Y.sheets=[...O.sheets,...G.sheets]),O.notes&&(Y.notes=[...O.notes,...G.notes]),Y})},I=()=>{switch(r){case"dashboard":return S.jsx(uE,{data:n,onChangeTab:e});case"smart-capture":return S.jsx(pR,{onProcess:b,onChangeTab:e});case"tasks":return S.jsx(OI,{tasks:n.tasks,setTasks:O=>T({...n,tasks:O})});case"links":return S.jsx(cE,{type:"links",items:n.links,setItems:O=>T({...n,links:O})});case"sheets":return S.jsx(cE,{type:"sheets",items:n.sheets,setItems:O=>T({...n,sheets:O})});case"notes":return S.jsx(xI,{notes:n.notes,setNotes:O=>T({...n,notes:O})});default:return S.jsx(uE,{data:n,onChangeTab:e})}};return f?S.jsx("div",{className:"flex flex-col h-screen items-center justify-center bg-slate-50 p-4",children:S.jsxs("div",{className:"text-center max-w-md",children:[S.jsx("div",{className:"w-8 h-8 border-4 border-slate-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"Authenticating & Connecting to Cloud..."}),S.jsxs("div",{className:"text-sm text-slate-500 bg-white p-4 rounded-lg border border-slate-200 shadow-sm animate-in fade-in duration-1000 slide-in-from-bottom-4",style:{animationDelay:"5s",animationFillMode:"both"},children:[S.jsx("p",{className:"font-semibold text-orange-600 mb-2",children:"Taking too long?"}),S.jsx("p",{className:"mb-2",children:"If this spinner doesn't stop, it usually means:"}),S.jsxs("ul",{className:"list-disc text-left pl-5 space-y-1 mb-2",children:[S.jsxs("li",{children:["You created the Firebase Project but ",S.jsx("b",{children:"didn't create the Firestore Database"}),"."]}),S.jsx("li",{children:"Or your internet is blocking the connection."})]}),S.jsxs("p",{children:["Please go to your ",S.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-indigo-600 underline",children:"Firebase Console"}),"  Build  Firestore Database and make sure it exists!"]})]})]})}):S.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans text-slate-900",children:[S.jsx(NI,{activeTab:r,onChangeTab:e,isOpen:o,setIsOpen:u}),S.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[S.jsx("div",{className:"lg:hidden h-16 bg-white border-b border-slate-200 flex items-center px-4 justify-between flex-shrink-0",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:()=>u(!0),className:"p-2 -ml-2 text-slate-600",children:S.jsx(lI,{className:"w-6 h-6"})}),S.jsxs("span",{className:"font-bold text-slate-800",children:["Ahmed Mo Space",S.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Cloud V1"})]})]})}),S.jsx("div",{className:"flex-1 overflow-y-auto",children:I()})]})]})},qS=document.getElementById("root");if(!qS)throw new Error("Could not find root element to mount to");const Px=M1.createRoot(qS);Px.render(S.jsx(I1.StrictMode,{children:S.jsx(Lx,{})}));
